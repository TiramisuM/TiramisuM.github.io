<html>
<head>
  <title>面试  (十二) : Swift面试题-4</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <meta name="application-data:corenote-hostUUID" content="C8940BC2-A53C-4B55-B59C-4779464BC778"/>
  <meta name="application-data:corenote-localUUID" content="2C1558C7-B48B-491F-88A0-7F99DC091EE2"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1057"/>
<h1>面试  (十二) : Swift面试题-4</h1>

<div>
<span><h5>1. 给一个数组，要求写一个函数，交换数组中的两个元素</h5><ul><li>二X程序员：<br/>好简单啊，直接写出以下结果</li></ul><pre><img src="面试  (十二)  Swift面试题-4_files/Image.png" type="image/png" data-filename="Image.png" width="632"/></pre><ul><li>普通程序员：<br/>首先跟面试官沟通，是什么类型的数组？面试官会说，任意。普通程序员微微一笑，写出以下代码</li></ul><pre><img src="面试  (十二)  Swift面试题-4_files/Image [1].png" type="image/png" data-filename="Image.png" width="633"/></pre><ul><li>文艺程序员：<br/>与面试官沟通，是什么类型的数组？有什么其他要求和限制？面试官会说，这是一个Swift面试题。文艺程序员心领神会，于是写出以下答案</li></ul><pre><img src="面试  (十二)  Swift面试题-4_files/Image [2].png" type="image/png" data-filename="Image.png" width="636"/></pre><div>同时对以上代码写上相应测试，检测各种边界情况，再确认无误后，才会说，这道题目我完成了。</div><div>这道题目看似简单，实际上考察了程序员的审题、交流、以及测试的意识。技术上考察了Swift的泛型和Tuple的性质。</div><div><br/></div><h5>2. 下面代码有什么问题</h5><pre><img src="面试  (十二)  Swift面试题-4_files/Image [3].png" type="image/png" data-filename="Image.png" width="631"/></pre><div>答案：应该在 var prev 或者 var post 前面加上 weak。</div><div>原因：表面上看，以上代码毫无问题。但是我这样一写，问题就来了：</div><div><img src="面试  (十二)  Swift面试题-4_files/Image [4].png" type="image/png" data-filename="Image.png" width="633"/></div><div><br/></div><div>此时，head 和 tail 互相指向，形成循环引用（retain cycle）。</div><h5>3. 实现一个函数，输入是任一整数，输出要返回输入的整数 + 2</h5><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">这道题很多人上来就这样写：</span></div><pre><img src="面试  (十二)  Swift面试题-4_files/Image [5].png" type="image/png" data-filename="Image.png" width="636"/></pre><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">接下来面试官会说，那假如我要实现 + 4 呢？程序员想了一想，又定义了另一个方法：</span></div><pre><img src="面试  (十二)  Swift面试题-4_files/Image [6].png" type="image/png" data-filename="Image.png" width="633"/></pre><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">这时面试官会问，假如我要实现返回 + 6, + 8 的操作呢？能不能只定义一次方法呢？正确的写法是利用 Swift 的 Currying 特性：</span></div><div><img src="面试  (十二)  Swift面试题-4_files/Image [7].png" type="image/png" data-filename="Image.png" width="632"/></div><div><br/></div><div><br/></div><h5>4. 精简以下代码</h5><pre><img src="面试  (十二)  Swift面试题-4_files/Image [8].png" type="image/png" data-filename="Image.png" width="630"/></pre><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">这题考察的是 guard let 语句以及 optional chaining，最佳答案是</span></div><pre><img src="面试  (十二)  Swift面试题-4_files/Image [9].png" type="image/png" data-filename="Image.png" width="631"/></pre><h5>5. 以下函数会打印出什么？</h5><pre><img src="面试  (十二)  Swift面试题-4_files/Image [10].png" type="image/png" data-filename="Image.png" width="632"/></pre><div>因为 clousre 已经申明将 car 复制进去了（[car]），此时clousre 里的 car 是个局部变量，不再与外面的 car有关，所以会打印出&quot;I drive Benz&quot;。</div><div>此时面试官微微一笑，将题目略作修改如下：</div><pre><img src="面试  (十二)  Swift面试题-4_files/Image [11].png" type="image/png" data-filename="Image.png" width="632"/></pre><div>此时 closure 没有申明复制拷贝 car，所以clousre 用的还是全局的 car 变量，此时将会打印出 &quot;I drive Tesla&quot;</div><div><br/></div><h5>6. 以下代码会打印出什么？</h5><pre><img src="面试  (十二)  Swift面试题-4_files/Image [12].png" type="image/png" data-filename="Image.png" width="633"/>答案：打印出如下两行</pre><div><span style="font-weight: bold;">[&quot;tomato&quot;, &quot;basil&quot;, &quot;mozzarella&quot;]</span></div><div><span style="font-weight: bold;">[&quot;tomato&quot;, &quot;basil&quot;, &quot;mozzarella&quot;]</span></div><div>在Lombardis的代码中，重写了makeMargherita的代码，所以永远调用的是Lombardis 中的 makeMargherita。</div><div>再进一步，我们把 protocol Pizzeria 中的 func makeMargherita() 删掉，代码变为</div><pre><img src="面试  (十二)  Swift面试题-4_files/Image [13].png" type="image/png" data-filename="Image.png" width="639"/>这时候打印出如下结果：</pre><div><span style="font-weight: bold;">[&quot;tomato&quot;, &quot;mozzarella&quot;]</span></div><div><span style="font-weight: bold;">[&quot;tomato&quot;, &quot;basil&quot;, &quot;mozzarella&quot;]</span></div><div>因为lombardis1 是 Pizzeria，而 makeMargherita() 有默认实现，这时候我们调用默认实现。</div><h5>7. Swift 中定义常量和 Objective-C 中定义常量有什么区别？</h5><div>一般人会觉得没有差别，因为写出来好像也确实没差别。</div><div>OC是这样定义常量的：</div><pre><img src="面试  (十二)  Swift面试题-4_files/Image [14].png" type="image/png" data-filename="Image.png" width="640"/>Swift 是这样定义常量的：</pre><pre><img src="面试  (十二)  Swift面试题-4_files/Image [15].png" type="image/png" data-filename="Image.png" width="638"/>首先第一个区别，OC中用 const 来表示常量，而 Swift 中用 let 来判断是不是常量。</pre><div>上面的区别更进一步说，OC中 const 表明的常量类型和数值是在 compilation time 时确定的；而 Swift 中 let 只是表明常量（只能赋值一次），其类型和值既可以是静态的，也可以是一个动态的计算方法，它们在 <span style="font-weight: bold;">runtime</span> 时确定的。</div><div>&lt;br &gt;</div><h5>8. Swift 中 struct 和 class 什么区别？举个应用中的实例</h5><div>struct 是值类型，class 是引用类型。</div><div>看过WWDC的人都知道，struct 是苹果推荐的，原因在于它在小数据模型传递和拷贝时比 class 要更安全，在多线程和网络请求时尤其好用。我们来看一个简单的例子：</div><pre><img src="面试  (十二)  Swift面试题-4_files/Image [16].png" type="image/png" data-filename="Image.png" width="636"/></pre><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">此时 a 的 val 也被改成了 2，因为 a 和 b 都是引用类型，本质上它们指向同一内存。解决这个问题的方法就是使用 struct：</span></div><pre><img src="面试  (十二)  Swift面试题-4_files/Image [17].png" type="image/png" data-filename="Image.png" width="636"/></pre><div>此时 A 是struct，值类型，b 和 a 是不同的东西，改变 b 对于 a 没有影响。</div><h5>9. Swift 到底是面向对象还是函数式的编程语言？</h5><div>Swift 既是面向对象的，又是函数式的编程语言。</div><div>说 Swift 是 Object-oriented，是因为 Swift 支持类的封装、继承、和多态，从这点上来看与 Java 这类纯面向对象的语言几乎毫无差别。</div><div>说 Swift 是函数式编程语言，是因为 Swift 支持 map, reduce, filter, flatmap 这类去除中间状态、数学函数式的方法，更加强调运算结果而不是中间过程。</div><div><br/></div><div><br/></div><div><br/></div><div><span style="padding: 0px; color: rgb(79, 129, 189); font-family: Arial; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial; direction: ltr; margin-top: 1em; margin-bottom: 1em; unicode-bidi: embed; font-weight: bold;">笔记整理：Edison</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Arial; font-size: 14px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-weight: bold; color: rgb(79, 129, 189); unicode-bidi: embed; padding: 0px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;">联系方式：QQ：277593 （笔记意见建议可加此Q，专人更新此笔记）；</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Arial; font-size: 14px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(79, 129, 189); unicode-bidi: embed; padding: 0px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"> </span></div><div><span style="padding: 0px; color: rgb(79, 129, 189); font-family: Arial; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial; direction: ltr; margin-top: 1em; margin-bottom: 1em; unicode-bidi: embed; font-weight: bold;">注：小道途径获取到的笔记，无法自动更新，请谅解！(笔记平均每月更新一次，祝各位都能拿到心仪的offer)</span><span style="padding: 0px; color: rgb(79, 129, 189); font-family: Arial; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; direction: ltr; margin-top: 1em; margin-bottom: 1em; unicode-bidi: embed;"> </span></div></span>
</div></body></html> 