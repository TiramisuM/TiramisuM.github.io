<html>
<head>
  <title>iOS笔记② ：重点  (四) : GCD</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <meta name="application-data:corenote-hostUUID" content="C8940BC2-A53C-4B55-B59C-4779464BC778"/>
  <meta name="application-data:corenote-localUUID" content="B462FD40-F563-44CC-A28A-D21132A3C113"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1850"/>
<h1>iOS笔记② ：重点  (四) : GCD</h1>

<div>
<span><div style="direction: ltr; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">什么是</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">GCD</span></div><div style="direction: ltr; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">全称是</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">Grand Central Dispatch</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">，可译为</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">“</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">牛逼的中枢调度器</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">”</span></div><div style="direction: ltr; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">纯</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">C</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">语言，提供了非常多强大的函数</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 11.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span></div><div style="direction: ltr; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">GCD</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">的优势</span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica; color: #595959;">GCD</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">是苹果公司为</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #FF2500;">多核</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">的</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #FF2500;">并行</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">运算提出的解决方案</span></div><div style="direction: ltr; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">GCD</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">会自动利用更多的</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">CPU</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">内核（比如双核、四核）</span></div><div style="direction: ltr; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">GCD</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">会自动管理线程的生命周期（创建线程、调度任务、销毁线程）</span></div><div style="direction: ltr; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">程序员只需要告诉</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">GCD</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">想要执行什么任务，不需要编写任何线程管理代码</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 24pt; color: rgb(79, 129, 189); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">任务和队列</span></div><div style="direction: ltr; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">GCD</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">中有</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">2</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">个核心概念</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF;">任务</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959;">：执行什么操作</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF;">队列</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959;">：用来存放任务</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 11.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span></div><div style="direction: ltr; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">GCD</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">的使用就</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">2</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">个步骤</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #FF2500;">定制</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF;">任务</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">确定想做的事情</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 11.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #FF2500;">将</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF;">任务</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #FF2500;">添加到</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF;">队列</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #FF2500;">中</span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica; color: #595959;">GCD</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">会自动将</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #0433FF;">队列</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">中的</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #0433FF;">任务</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">取出，放到对应的</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #0433FF;">线程</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">中执行</span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #0433FF; background: #FAC08F;">任务</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959; background: #FAC08F;">的取出遵循</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #0433FF; background: #FAC08F;">队列</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959; background: #FAC08F;">的</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica; color: #0433FF; background: #FAC08F;">FIFO</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959; background: #FAC08F;">原则：先进先出，后进后出</span></div><div style="direction: ltr; font-family: SimSun; font-size: 24pt; color: rgb(79, 129, 189); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><img src="iOS笔记② ：重点  (四)  GCD_files/Image.png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-family: SimSun; font-size: 24pt; color: rgb(79, 129, 189); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 24pt; color: #4F81BD; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">执行任务</span></div><div style="direction: ltr; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">GCD</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">中有</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">2</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">个用来执行任务的函数</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959;">用</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF;">同步</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959;">的方式执行任务</span></div><div style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">dispatch_</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #FF2500;">sync</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">(</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #5C2699;">dispatch_queue_t</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">queue,</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #5C2699;">dispatch_block_t</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">block);</span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">queue</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">：队列</span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">block</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">：任务</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 11.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959; background: #FAC08F;">用</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #0433FF; background: #FAC08F;">异步</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959; background: #FAC08F;">的方式执行任务</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Calibri; color: #595959; background: #FAC08F;">(</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959; background: #FAC08F;">主要掌握</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Calibri; color: #595959; background: #FAC08F;">)</span></div><div style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">dispatch_</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #FF2500;">async</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">(</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #5C2699;">dispatch_queue_t</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">queue,</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #5C2699;">dispatch_block_t</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">block);</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(89, 89, 89);">同步和异步的区别</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF; background: #FAC08F;">同步</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959; background: #FAC08F;">：只能在</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #EA8E42; background: #FAC08F;">当前</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959; background: #FAC08F;">线程中执行任务，</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #EA8E42; background: #FAC08F;">不具备</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959; background: #FAC08F;">开启新线程的能力</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF; background: #FAC08F;">异步</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959; background: #FAC08F;">：可以在</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #EA8E42; background: #FAC08F;">新的</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959; background: #FAC08F;">线程中执行任务，</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #EA8E42; background: #FAC08F;">具备</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959; background: #FAC08F;">开启新线程的能力</span></div><div style="direction: ltr; font-family: SimSun; font-size: 24pt; color: rgb(79, 129, 189); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><img src="iOS笔记② ：重点  (四)  GCD_files/Image [1].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-family: SimSun; font-size: 24pt; color: rgb(79, 129, 189); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 24pt; color: #4F81BD; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">队列的类型</span></div><div style="direction: ltr; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">GCD</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">的队列可以分为</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">2</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">大类型</span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #FF2500;">并发</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">队列（</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica; color: #595959;">Concurrent Dispatch Queue</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">）</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959;">可以让多个任务</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF;">并发</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959;">（</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF;">同时</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959;">）执行（自动开启多个线程同时执行任务）</span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #0433FF; background: #FAC08F;">注意</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Calibri; color: #0433FF; background: #FAC08F;">:</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Calibri; color: #0433FF; background: #FAC08F; mso-spacerun: yes;">  </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #0433FF; background: #FAC08F;">并发</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959; background: #FAC08F;">功能只有在</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #0433FF; background: #FAC08F;">异步</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959; background: #FAC08F;">（</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black; background: #FAC08F;">dispatch_</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #0433FF; background: #FAC08F;">async</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959; background: #FAC08F;">）函数下才有效</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(255, 37, 0);">串行</span><span style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(89, 89, 89);">队列（</span><span style="direction: ltr; font-family: Helvetica; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(89, 89, 89);">Serial Dispatch Queue</span><span style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(89, 89, 89);">）</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">让任务一个接着一个地执行（一个任务执行完毕后，再执行下一个任务）</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><img src="iOS笔记② ：重点  (四)  GCD_files/Image [2].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-family: SimSun; font-size: 24pt; color: rgb(79, 129, 189); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><img src="iOS笔记② ：重点  (四)  GCD_files/Image [3].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-family: SimSun; font-size: 24pt; color: rgb(79, 129, 189); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 24pt; color: #4F81BD; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">容易混淆的术语</span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">有</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica; color: #595959;">4</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">个术语比较容易混淆：</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #0433FF;">同步</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">、</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #0433FF;">异步</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">、</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #FF2500;">并发</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">、</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #FF2500;">串行</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF;">同步</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959;">和</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF;">异步</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959;">主要影响：能不能开启新的线程</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF;">同步</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959;">：在</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #EA8E42;">当前</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959;">线程中执行任务，</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #EA8E42;">不具备</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959;">开启新线程的能力</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF;">异步</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959;">：在</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #EA8E42;">新的</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959;">线程中执行任务，</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #EA8E42;">具备</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959;">开启新线程的能力</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(255, 37, 0);">并发</span><span style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(89, 89, 89);">和</span><span style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(255, 37, 0);">串行</span><span style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(89, 89, 89);">主要影响：任务的执行方式</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #FF2500;">并发</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959;">：</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #EA8E42;">多个</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959;">任务并发（同时）执行</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #FF2500;">串行</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959;">：</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #EA8E42;">一个</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #595959;">任务执行完毕后，再执行下一个任务</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; color: rgb(255, 37, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; background-color: rgb(250, 192, 143);">注意</span><span style="direction: ltr; font-family: Helvetica; font-size: 13.5pt; color: rgb(255, 37, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; background-color: rgb(250, 192, 143); background-position: initial initial; background-repeat: initial initial;">:</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; color: rgb(255, 37, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; background-color: rgb(250, 192, 143);">同步函数</span><span style="direction: ltr; font-family: Helvetica; font-size: 13.5pt; color: rgb(255, 37, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; background-color: rgb(250, 192, 143); background-position: initial initial; background-repeat: initial initial;">+</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; color: rgb(255, 37, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; background-color: rgb(250, 192, 143);">主队列</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; color: rgb(255, 37, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Helvetica; font-size: 13.5pt; color: rgb(255, 37, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; background-color: rgb(250, 192, 143); background-position: initial initial; background-repeat: initial initial;">==</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; color: rgb(255, 37, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; color: rgb(255, 37, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; background-color: rgb(250, 192, 143);">死锁</span><span style="direction: ltr; font-family: Helvetica; font-size: 13.5pt; color: rgb(255, 37, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; background-color: rgb(250, 192, 143); background-position: initial initial; background-repeat: initial initial;">(</span><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; color: rgb(255, 37, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; background-color: rgb(250, 192, 143);">会卡死</span><span style="direction: ltr; font-family: Helvetica; font-size: 13.5pt; color: rgb(255, 37, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; background-color: rgb(250, 192, 143); background-position: initial initial; background-repeat: initial initial;">)</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">(</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">我们都应该清楚，同步任务有一个特性，只要一添加到队列中就要马上执行，主队列中永远就只要一条线程</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">——</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">主线程，此时主线程在等待着主队列调度同步任务，而主队列发现主线程上还有任务未执行完，就不会让同步任务添加到主线程上，由此就造成了互相等待（主队列在等待主线程执行完已有的任务，而主线程又在等待主队列调度同步任务！此时也就是所谓的死锁了</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">!)</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; color: rgb(0, 143, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">/**</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(0, 143, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;"> *  sync --</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">主队列</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">(</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">不能用</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">---</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">会卡死</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">)</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; color: rgb(0, 143, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> */</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">- (</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF;">void</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">)syncMainQueue</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">{</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">   </span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #3495AF;">NSLog</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #B4261A;">@&quot;syncMainQueue----begin--&quot;</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">);</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    </span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #008F00; mso-spacerun: yes;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #008F00;">1.</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #008F00;">主队列</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #008F00;">(</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #008F00;">添加到主队列中的任务，都会自动放到主线程中去执行</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #008F00;">)</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">   </span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #3495AF;">dispatch_queue_t</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">queue =</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #3495AF;">dispatch_get_main_queue</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">();</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    </span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #008F00; mso-spacerun: yes;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #008F00;">2.</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #008F00;">添加 任务 到主队列中 异步 执行</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    </span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #3495AF;">dispatch_sync</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">(queue, ^{</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">       </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #3495AF;">NSLog</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">(</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #B4261A;">@&quot;-----</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #B4261A;">下载图片</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #B4261A;">1---%@&quot;</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">, [</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #3495AF;">NSThread currentThread</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">]);</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    });</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    </span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #3495AF;">dispatch_sync</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">(queue, ^{</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">       </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #3495AF;">NSLog</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">(</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #B4261A;">@&quot;-----</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #B4261A;">下载图片</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #B4261A;">2---%@&quot;</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">, [</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #3495AF;">NSThread currentThread</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">]);</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    });</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    </span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #3495AF;">dispatch_sync</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">(queue, ^{</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">       </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #3495AF;">NSLog</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">(</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #B4261A;">@&quot;-----</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #B4261A;">下载图片</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #B4261A;">3---%@&quot;</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">, [</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #3495AF;">NSThread currentThread</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">]);</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    });</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    </span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">   </span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #3495AF;">NSLog</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #B4261A;">@&quot;syncMainQueue----end--&quot;</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">);</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">}</span><span style="direction: ltr; font-family: SimSun; font-size: 24pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(79, 129, 189);"> </span></div><div style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><img src="iOS笔记② ：重点  (四)  GCD_files/Image [4].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-family: SimSun; font-size: 24pt; color: rgb(79, 129, 189); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 24pt; color: #4F81BD; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">并发队列</span></div><div style="direction: ltr; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">GCD</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">默认已经提供了全局的并发队列，供整个应用使用，不需要手动创建</span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">使用</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #2E116E;">dispatch_get_global_queue</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">函数获得全局的并发队列</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; color: rgb(92, 38, 153); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">dispatch_queue_t</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> dispatch_get_global_queue(</span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #5C2699;">dispatch_queue_priority_t</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">priority,</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #007400; mso-spacerun: yes;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">队列的优先级</span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #AA2391;">unsigned long</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">flags);</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #007400; mso-spacerun: yes;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">此参数暂时无用，用</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #007400;">0</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">即可</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; color: rgb(0, 116, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; color: #007400; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">全局并发队列</span></div><div style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #5C2699;">dispatch_queue_t</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">queue =</span></div><div style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #2E116E;">dispatch_get_global_queue</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">(</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #64381F;">DISPATCH_QUEUE_PRIORITY_DEFAULT</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">,</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #1C27CF;">0</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">);</span></div><div style="direction: ltr; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">(</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">里面的参数第一个为优先级</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">,</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">可以默认为固定写法</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">)</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">列</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; color: rgb(0, 116, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">全局并发队列的优先级</span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #64381F;">#define DISPATCH_QUEUE_PRIORITY_HIGH</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #1C27CF;">2</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #1C27CF; mso-spacerun: yes;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">高</span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #64381F;">#define DISPATCH_QUEUE_PRIORITY_DEFAULT</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #1C27CF;">0</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #1C27CF; mso-spacerun: yes;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">默认（中）</span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #64381F;">#define DISPATCH_QUEUE_PRIORITY_LOW (-</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #1C27CF;">2</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #64381F;">)</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #64381F; mso-spacerun: yes;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">低</span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #64381F;">#define DISPATCH_QUEUE_PRIORITY_BACKGROUND INT16_MIN</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #64381F; mso-spacerun: yes;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">后台</span><span style="direction: ltr; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: SimSun; color: rgb(0, 116, 0);"> </span></div><div style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><img src="iOS笔记② ：重点  (四)  GCD_files/Image [5].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-family: SimSun; font-size: 24pt; color: rgb(79, 129, 189); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 24pt; color: #4F81BD; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">串行队列</span></div><div style="direction: ltr; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">GCD</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">中获得串行有</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">2</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">种途径</span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Calibri; color: #595959;">1.</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">使用</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #2E116E;">dispatch_queue_create</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">函数创建串行队列</span></div><div style="direction: ltr; font-family: Menlo; font-size: 13.5pt; color: rgb(92, 38, 153); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; color: #5C2699; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">dispatch_queue_t</span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">dispatch_queue_create(</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #AA2391;">const char</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">*label,</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; mso-spacerun: yes;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">队列名称</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #007400;"> </span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #5C2699;">dispatch_queue_attr_t</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">attr);</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black; mso-spacerun: yes;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">队列属性，一般用</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #007400;">NULL</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">即可</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; color: rgb(0, 116, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; color: #007400; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">创建一个串行队列</span></div><div style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #5C2699;">dispatch_queue_t</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">queue =</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #2E116E;">dispatch_queue_create</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">(</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #C41B17;">&quot;cn.itcast.queue&quot;</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">,</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #AA2391;">NULL</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">);</span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #64381F;">dispatch_release</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">(queue);</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">非</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #007400;">ARC</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">需要释放手动创建的队列</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Calibri; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(89, 89, 89); background-color: rgb(250, 192, 143); background-position: initial initial; background-repeat: initial initial;">2.</span><span style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(89, 89, 89); background-color: rgb(250, 192, 143); background-position: initial initial; background-repeat: initial initial;">使用主队列（跟主线程相关联的队列</span><span style="direction: ltr; font-family: Calibri; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(89, 89, 89); background-color: rgb(250, 192, 143); background-position: initial initial; background-repeat: initial initial;">,</span><span style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(89, 89, 89); background-color: rgb(250, 192, 143); background-position: initial initial; background-repeat: initial initial;">肯定是串行队列）</span></div><div style="direction: ltr; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">主队列是</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">GCD</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">自带的一种特殊的串行队列</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; background: #FAC08F;">放在主队列中的任务，都会放到主线程中执行</span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">使用</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #64381F;">dispatch_get_main_queue()</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">获得主队列</span></div><div style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #5C2699;">dispatch_queue_t</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">queue =</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #64381F;">dispatch_get_main_queue</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">();</span></div><div style="direction: ltr; font-family: SimSun; font-size: 24pt; color: rgb(79, 129, 189); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 24pt; color: #4F81BD; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">各种队列的执行效果</span></div><div style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><img src="iOS笔记② ：重点  (四)  GCD_files/Image [6].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; color: rgb(255, 37, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; color: #FF2500; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">注意</span></div><div style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt;">使用</span><span style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; font-size: 14.0pt; color: #ED7D31;">dispatch_sync</span><span style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt;">函数往</span><span style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; color: #FF2500;">当前</span><span style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; color: #4BACC6;">串行</span><span style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt;">队列中添加任务，会卡住当前的串行队列</span></div><div style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><img src="iOS笔记② ：重点  (四)  GCD_files/Image [7].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-family: SimSun; font-size: 24pt; color: rgb(79, 129, 189); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 24.0pt; color: #4F81BD; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">线程间通信示例</span></div><div style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">从子线程回到主线程</span></div><div style="direction: ltr; font-family: Menlo; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #2E116E;">dispatch_async</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">(</span></div><div style="direction: ltr; font-family: Menlo; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #2E116E;">dispatch_get_global_queue</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">(</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #64381F;">DISPATCH_QUEUE_PRIORITY_DEFAULT</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">,</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #1C27CF;">0</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">), ^{</span></div><div style="direction: ltr; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #007400; mso-spacerun: yes;">  </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">执行耗时的异步操作</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #007400;">...</span></div><div style="direction: ltr; font-family: Menlo; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">     </span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #2E116E;">dispatch_async</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">(</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #64381F;">dispatch_get_main_queue</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">(), ^{</span></div><div style="direction: ltr; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">     </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">回到主线程，执行</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #007400;">UI</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">刷新操作</span></div><div style="direction: ltr; font-family: Menlo; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">        });</span></div><div style="direction: ltr; font-family: Menlo; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">});</span></div><div style="direction: ltr; font-family: Calibri; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 24pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(79, 129, 189);">延时执行</span></div><div style="direction: ltr; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">iOS</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">常见的延时执行有</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">2</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">种方式</span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">调用</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #5C2699;">NSObject</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">的方法</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #595959;">(</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">一旦定制好延迟任务后</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #595959;">,</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">不会卡主当前线程</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #595959;">:</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">经常使用</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #595959;">)</span></div><div style="direction: ltr; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Calibri;">1.</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">注意</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">:</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">自动回到当前线程</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">(</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">在哪个线程调的就回到哪个线程</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">)</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">调用self的down</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">load方法</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">,</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">并且传递参数</span></div><div style="direction: ltr; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">withObject:</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">参数</span></div><div style="direction: ltr; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">afterDelay:</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">延迟的时间</span></div><div style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">[</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #AA2391;">self</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #2E116E;">performSelector</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">:</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #AA2391;">@selector</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">(run)</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #2E116E;">withObject</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">:</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #AA2391;">nil</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #2E116E;">afterDelay</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">:</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #1C27CF;">2.0</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">];</span></div><div style="direction: ltr; font-size: 13.5pt; color: rgb(0, 116, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; color: #007400; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">设定好延迟的时间后</span><span style="direction: ltr; font-size: 13.5pt; color: #007400; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">,</span><span style="direction: ltr; font-size: 13.5pt; color: #007400; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">它会先执行后边的代码</span><span style="direction: ltr; font-size: 13.5pt; color: #007400; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">,2</span><span style="direction: ltr; font-size: 13.5pt; color: #007400; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">秒后再调用</span><span style="direction: ltr; font-size: 13.5pt; color: #007400; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">self</span><span style="direction: ltr; font-size: 13.5pt; color: #007400; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">的</span><span style="direction: ltr; font-size: 13.5pt; color: #007400; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">run</span><span style="direction: ltr; font-size: 13.5pt; color: #007400; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">方法</span><span style="direction: ltr; font-size: 13.5pt; color: #007400; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">(</span><span style="direction: ltr; font-size: 13.5pt; color: #007400; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">并且不会卡主线程</span><span style="direction: ltr; font-size: 13.5pt; color: #007400; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">,</span><span style="direction: ltr; font-size: 13.5pt; color: #007400; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">在主线程调最后会回到主线程</span><span style="direction: ltr; font-size: 13.5pt; color: #007400; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">,</span><span style="direction: ltr; font-size: 13.5pt; color: #007400; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">在子线程调最后会回到子线程</span><span style="direction: ltr; font-size: 13.5pt; color: #007400; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">)</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 11.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span></div><div style="direction: ltr; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Calibri;">2.</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">使用</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">GCD</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">函数</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">(3</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">秒后自动开启新线程</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">执行block中的代码</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">,</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">不会卡主当前的线程</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">,</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">在主</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">/</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">子线程调用都可以使用</span><span style="direction: ltr; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">)</span></div><div style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; font-size: 12.0pt; color: #64381F;">DISPATCH_TIME_NOW</span><span style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; font-size: 12.0pt; color: #64381F;">:</span><span style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; color: #595959;">现在开始的意</span></div><div style="direction: ltr; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #1C27CF;">2.0</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">*</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #64381F;">NSEC_PER_SEC</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #64381F;">:</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #64381F;">设置的秒数</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #64381F;">(</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #64381F;">直接更改数字即可</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #64381F;">)</span></div><div style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; font-size: 12.0pt; color: #64381F;">dispatch_get_main_queue</span><span style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; font-size: 12.0pt; color: black;">()</span><span style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; font-size: 12.0pt; color: black;">:</span><span style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; font-size: 13.5pt; color: #595959;">主队列的意思</span></div><div style="direction: ltr; font-family: Menlo; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #2E116E;">dispatch_after</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">(</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #2E116E;">dispatch_time</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">(</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #64381F;">DISPATCH_TIME_NOW</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">, (</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #5C2699;">int64_t</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">)(</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #1C27CF;">2.0</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">*</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #64381F;">NSEC_PER_SEC</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">)),</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #64381F;">dispatch_get_main_queue</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">(), ^{</span></div><div style="direction: ltr; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #007400;">2</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">秒后执行这里的代码</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #007400;">...</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">在哪个线程执行，跟队列类型有关</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;"> </span></div><div style="direction: ltr; font-family: Menlo; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">});</span></div><div style="direction: ltr; font-family: Menlo; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Calibri; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(89, 89, 89);">3.</span><span style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(89, 89, 89);">会卡主线程</span><span style="direction: ltr; font-family: Calibri; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(89, 89, 89);">(</span><span style="direction: ltr; font-family: 'STHeiti Light'; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(89, 89, 89);">不推荐使用</span><span style="direction: ltr; font-family: Calibri; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(89, 89, 89);">)</span></div><div style="direction: ltr; font-family: Menlo; font-size: 13.5pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">[NST</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">h</span><span style="direction: ltr; font-family: Menlo; font-size: 13.5pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">read sleepForTimeInterval:3]</span></div><div style="direction: ltr; font-family: SimSun; font-size: 24pt; color: rgb(79, 129, 189); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 24pt; color: #4F81BD; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">一次性代码</span></div><div style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">使用</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #64381F;">dispatch_once</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">函数能保证某段代码在程序运行过程中只被执行</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica; color: #595959;">1</span><span style="direction: ltr; font-size: 13.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #595959;">次</span></div><div style="direction: ltr; font-family: Menlo; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #AA2391;">static</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #5C2699;">dispatch_once_t</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">onceToken;</span></div><div style="direction: ltr; font-family: Menlo; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #64381F;">dispatch_once</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">(&amp;onceToken, ^{</span></div><div style="direction: ltr; font-family: Menlo; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span></div><div style="direction: ltr; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black; mso-spacerun: yes;"> </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: SimSun; color: #007400;">程序运行过程中</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #007400;">,</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: SimSun; color: #007400;">永远</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">只执行</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #007400;">1</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">次的代码</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #007400;">(</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">这里面默认是线程安全的</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #007400;">)</span></div><div style="direction: ltr; font-family: Menlo; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">});</span></div><div style="direction: ltr; font-family: SimSun; font-size: 24pt; color: rgb(79, 129, 189); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 24pt; color: #4F81BD; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">队列组</span></div><div style="direction: ltr; font-size: 12pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 12.0pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">有这么</span><span style="direction: ltr; font-size: 12.0pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">1</span><span style="direction: ltr; font-size: 12.0pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">种需求</span></div><div style="direction: ltr; font-size: 12pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 12.0pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">首先：分别异步执行</span><span style="direction: ltr; font-size: 12.0pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">2</span><span style="direction: ltr; font-size: 12.0pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">个耗时的操作</span></div><div style="direction: ltr; font-size: 12pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 12.0pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">其次：等</span><span style="direction: ltr; font-size: 12.0pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Helvetica;">2</span><span style="direction: ltr; font-size: 12.0pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">个异步操作都执行完毕后，再回到主线程执行操作</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 11.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span></div><div style="direction: ltr; font-size: 12pt; color: rgb(89, 89, 89); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 12.0pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">如果想要快速高效地实现上述需求，可以考虑用队列组</span><span style="direction: ltr; font-size: 12.0pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Calibri;">(</span><span style="direction: ltr; font-size: 12.0pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">先创建一个队列组</span><span style="direction: ltr; font-size: 12.0pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Calibri;">,</span><span style="direction: ltr; font-size: 12.0pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;;">再把要执行的一个异步操作放入队列组的block当中</span><span style="direction: ltr; font-size: 12.0pt; color: #595959; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Calibri;">)</span></div><div style="direction: ltr; font-family: Menlo; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #5C2699;">dispatch_group_t</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">group = </span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #2E116E;">dispatch_group_create</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">();</span></div><div style="direction: ltr; font-family: Menlo; font-size: 12pt; color: black; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; color: black; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span></div><div style="direction: ltr; font-family: Menlo; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #2E116E;">dispatch_group_async</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">(group,</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #2E116E;">dispatch_get_global_queue</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">(</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #64381F;">DISPATCH_QUEUE_PRIORITY_DEFAULT</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">,</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #1C27CF;">0</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">), ^{</span></div><div style="direction: ltr; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black; mso-spacerun: yes;"> </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">执行</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #007400;">1</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">个耗时的异步操作</span></div><div style="direction: ltr; font-family: Menlo; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">});</span></div><div style="direction: ltr; font-family: Menlo; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #2E116E;">dispatch_group_async</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">(group,</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #2E116E;">dispatch_get_global_queue</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">(</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #64381F;">DISPATCH_QUEUE_PRIORITY_DEFAULT</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">,</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #1C27CF;">0</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">), ^{</span></div><div style="direction: ltr; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black; mso-spacerun: yes;"> </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">执行</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #007400;">1</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">个耗时的异步操作</span></div><div style="direction: ltr; font-family: Menlo; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">});</span></div><div style="direction: ltr; font-family: Menlo; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #2E116E;">dispatch_group_notify</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">(group,</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #64381F;">dispatch_get_main_queue</span><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">(), ^{</span></div><div style="direction: ltr; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black; mso-spacerun: yes;"> </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">等前面的异步操作都执行完毕后，回到主线程</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #007400;">...</span></div><div style="direction: ltr; font-family: Menlo; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">});</span></div><div style="direction: ltr; font-size: 12pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">注意</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Calibri; color: #007400;">:</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">这个组的特点</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Calibri; color: #007400;">,</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">它会等组里面所有的任务</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Calibri; color: #007400;">(</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">同上的两个block代码内容</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Calibri; color: #007400;">)</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">都执行完了以后</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Calibri; color: #007400;">,</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #007400;">它会调用</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #2E116E;">_notify</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;STHeiti Light&quot;; color: #2E116E;">里面的这个block</span><span style="direction: ltr; font-size: 12.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">;</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(4, 51, 255); font-family: 'PingFang SC';"> </span></div><div style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; color: rgb(4, 51, 255); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;PingFang SC&quot;; font-size: 10.5pt; color: #0433FF; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">补充</span></div><div style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">1-1</span><span style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: SimSun; font-size: 10.5pt;"> </span><span style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: 'PingFang SC'; font-size: 10.5pt;">关于</span><span style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; font-size: 10.5pt;">GCD</span><span style="direction: ltr; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: 'PingFang SC'; font-size: 10.5pt;">中的创建和释放</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">在</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">iOS6.0</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">之前，在</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">GCD</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">中每当使用带</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">creat</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">单词的函数创建对象之后，都应该对其进行一次</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">release</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">操作。在</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">iOS6.0</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">之后，</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">GCD</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">被纳入到了</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">ARC</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">的内存管理机制中，在使用</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">GCD</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">的时候我们就像对待普通</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">OC</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">对象一样对待</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">GCD,</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">因此不再需要我们调用</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">release</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">方法。</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">1-2 GCD</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">中设置队列的优先级</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">01</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">使用</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">create</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">函数创建出来的队列不论是串行队列还是并发队列，，其执行任务线程的优先级都是默认优先级。</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">02</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">可以通过</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">set_target_queue</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">来变更队列的优先级。第一个参数传通过</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">creat</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">创建出来的队列，后面一个参数传指定了优先级的全局并发队列。第一个参数如果传主队列或者全局并发队列的话，那么执行结果是未知的。</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">1-3</span><span style="direction: ltr; font-family: SimSun; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">暂停和恢复。</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">GCD</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">中的队列也是可以暂停和恢复的，直接把相应的队列作为参数就传递就可以。使用</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">dispatch_resume(queue1);</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">和</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">dispatch_suspend(queue1);</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">1-4 GCD</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">中可以不使用</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">block</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">而使用函数。</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">1-5</span><span style="direction: ltr; font-family: SimSun; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">在</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">NSOperation</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">中关于</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">main</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">方法的调用问题。</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">先调用</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">start</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">方法，在</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">start</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">方法内部会调用</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">main</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">方法。可以通过代码来进行验证。</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">参考资料：</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">https:</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(0, 143, 0);">//developer.</span><a href="http://apple.com/library/ios/documentation/Performance/Reference/GCD_libdispatch_Ref/index.html#//apple_ref/c/func/dispatch_queue_create" style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(0, 143, 0);">apple.com/library/ios/documentation/Performance/Reference/GCD_libdispatch_Ref/index.html#//apple_ref/c/func/dispatch_queue_create</a></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(4, 51, 255);">补充</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">使用</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">Crearte</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">函数创建的并发队列和全局并发队列的主要区别：</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">1.</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">全局并发队列在整个应用程序中本身是默认存在的，并且对应有高优先级、默认优先级、低优先级和后台优先级一共四个并发队列，我们只是选择其中的一个直接拿来用。而</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">Crearte</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">函数是实打实的从头开始去创建一个队列。</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">2.</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">在</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">iOS6.0</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">之前，在</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">GCD</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">中凡是使用了带</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">Crearte</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">和</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">retain</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">的函数在最后都需要做一次</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">release</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">操作。而主队列和全局并发队列不需要我们手动</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">release</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">。当然了，在</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">iOS6.0</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">之后</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">GCD</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">已经被纳入到了</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">ARC</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">的内存管理范畴中，即便是使用</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">retain</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">或者</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">create</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">函数创建的对象也不再需要开发人员手动释放，我们像对待普通</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">OC</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">对象一样对待</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">GCD</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">就</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">OK</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">。</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">3.</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">在使用栅栏函数的时候，苹果官方明确规定栅栏函数只有在和使用</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">create</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">函数自己的创建的并发队列一起使用的时候才有效（没有给出具体原因）</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">4.</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">其它区别涉及到</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">XUN</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">内核的系统级线程编程，不一一列举。</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">5.</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">给出一些参考资料（可以自行研究）：</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">GCDAPI:https:</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(0, 143, 0);">//developer.</span><a href="http://apple.com/library/ios/documentation/Performance/Reference/GCD_libdispatch_Ref/index.html#//apple_ref/c/func/dispatch_queue_create" style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(0, 143, 0);">apple.com/library/ios/documentation/Performance/Reference/GCD_libdispatch_Ref/index.html#//apple_ref/c/func/dispatch_queue_create</a></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">Libdispatch</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">版本源码：</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">http:</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(0, 143, 0);">//www.</span><a href="http://opensource.apple.com/source/libdispatch/libdispatch-187.5/" style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(0, 143, 0);">opensource.apple.com/source/libdispatch/libdispatch-187.5/</a></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(4, 51, 255);">（</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">1</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(4, 51, 255);">）</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(4, 51, 255);">GCD</span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(4, 51, 255);">基本使用【重点】</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">01</span><span style="direction: ltr; font-family: SimSun; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">异步函数</span><span style="direction: ltr; font-family: SimSun; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">+</span><span style="direction: ltr; font-family: SimSun; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">并发队列：开启多条线程，并发执行任务</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">02</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">异步函数</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">+</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">串行队列：开启一条线程，串行执行任务</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">03</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">同步函数</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">+</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">并发队列：不开线程，串行执行任务</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">04</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">同步函数</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">+</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">串行队列：不开线程，串行执行任务</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">05</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">异步函数</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">+</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">主队列：不开线程，在主线程中串行执行任务</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">06</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">同步函数</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">+</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">主队列：不开线程，串行执行任务（注意死锁发生）</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">07</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">注意同步函数和异步函数在执行顺序上面的差异</span></div><div style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; color: rgb(4, 51, 255); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;PingFang SC&quot;; font-size: 10.5pt; color: #0433FF; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-family: &quot;PingFang SC&quot;; font-size: 10.5pt; color: #0433FF; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">（</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; color: black; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">2</span><span style="direction: ltr; font-family: &quot;PingFang SC&quot;; font-size: 10.5pt; color: #0433FF; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">）</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; color: #0433FF; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">GCD</span><span style="direction: ltr; font-family: &quot;PingFang SC&quot;; font-size: 10.5pt; color: #0433FF; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">线程间通信</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(0, 143, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">0.</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">获取一个全局的队列</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">dispatch_queue_t queue = dispatch_get_global_queue(0, 0);</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 11.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(0, 143, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">1.</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">先开启一个线程，把下载图片的操作放在子线程中处理</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">dispatch_async(queue, ^{</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    </span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #008F00;">2.</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #008F00;">下载图片</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">    NSURL *url = [NSURL URLWithString:</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #B4261A;">@&quot;</span><a href="http://h.hiphotos.baidu.com/zhidao/pic/item/6a63f6246b600c3320b14bb3184c510fd8f9a185.jpg" style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #B4261A;">http://h.hiphotos.baidu.com/zhidao/pic/item/6a63f6246b600c3320b14bb3184c510fd8f9a185.jpg</a><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #B4261A;">&quot;</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">];</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; color: black; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; color: black; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    NSData *data = [NSData dataWithContentsOfURL:url];</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    UIImage *image = [UIImage imageWithData:data];</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    </span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">    NSLog(</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #B4261A;">@&quot;</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #B4261A;">下载操作所在的线程</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #B4261A;">--%@&quot;</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">,[NSThread currentThread]);</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    </span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #008F00;">3.</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #008F00;">回到主线程刷新</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #008F00;">UI</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    dispatch_async(dispatch_get_main_queue(), ^{</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">        </span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF;">self</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">.imageView.image = image;</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">       </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #008F00;">打印查看当前线程</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">        NSLog(</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #B4261A;">@&quot;</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #B4261A;">刷新</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #B4261A;">UI---%@&quot;</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">,[NSThread currentThread]);</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    });</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    </span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">});</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; color: rgb(4, 51, 255); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; color: #0433FF; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #0433FF;">（</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">3</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #0433FF;">）</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #0433FF;">GCD</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #0433FF;">其它常用函数</span></div><div style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; color: rgb(4, 51, 255); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;PingFang SC&quot;; font-size: 10.5pt; color: #0433FF; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">01</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">栅栏函数（控制任务的执行顺序）</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">dispatch_barrier_async(queue, ^{</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">  NSLog(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #B4261A;">@&quot;--dispatch_barrier_async-&quot;</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: black;">);</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">});</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 11.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">02</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">延迟执行（延迟</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">·</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">控制在哪个线程执行）</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(2.0 * NSEC_PER_SEC)), dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    NSLog(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #B4261A;">@&quot;---%@&quot;</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">,[NSThread currentThread]);</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">});</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 11.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">03</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">一次性代码（注意不能放到懒加载）</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">-(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF;">void</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">)once</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">{</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #008F00;">整个程序运行过程中只会执行一次</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #008F00;">onceToken</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #008F00;">用来记录该部分的代码是否被执行过</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    </span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF;">static</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> dispatch_once_t onceToken;</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    dispatch_once(&amp;onceToken, ^{</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">        </span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">        NSLog(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #B4261A;">@&quot;-----&quot;</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">);</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    });</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">}</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 11.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">04</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #0433FF;">快速迭代（开多个线程并发完成迭代操作</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #0433FF;">,</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #0433FF;">可能会提高一定的性能）</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">dispatch_apply(subpaths.count, queue, ^(size_t index) {</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">});</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 11.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">05</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #0433FF;">队列组（同栅栏函数）</span></div><div style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; color: rgb(0, 143, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;PingFang SC&quot;; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">创建队列组</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">dispatch_group_t group = dispatch_group_create();</span></div><div style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; color: rgb(0, 143, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;PingFang SC&quot;; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">队列组中的任务执行完毕之后，执行该函数</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">dispatch_group_notify(dispatch_group_t group,</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">                      dispatch_queue_t queue,</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">                      dispatch_block_t block);</span></div><div lang="en-US" style="direction: ltr; font-family: Calibri; font-size: 24pt; color: rgb(79, 129, 189); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; color: rgb(4, 51, 255); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">代码案例：</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; color: #4F81BD; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">-(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; color: rgb(4, 51, 255); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">void</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; color: #4F81BD; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">{</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    [</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(4, 51, 255);">self</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> syncWithMain];</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">}</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(0, 143, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">同步函数</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">+</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">主队列</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">:</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">死锁</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">-(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF;">void</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">)syncWithMain</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">{</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    NSLog(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #B4261A;">@&quot;-----&quot;</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">);</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #008F00;">1.</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #008F00;">获得主队列</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    dispatch_queue_t queue = dispatch_get_main_queue();</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    </span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    dispatch_sync(queue, ^{</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">        NSLog(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #B4261A;">@&quot;1---%@&quot;</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">,[NSThread currentThread]);</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    });</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">   </span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">}</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(0, 143, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">异步函数</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">+</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">主队列</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">:</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">不会开线程</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">,</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">串行执行</span></div><div style="direction: ltr; font-family: 'PingFang SC'; font-size: 10.5pt; color: rgb(0, 143, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: &quot;PingFang SC&quot;; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">凡是在主队列中的任务都在主线程中去执行</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">-(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF;">void</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">)asyncWithMain</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">{</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #008F00;">1.</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #008F00;">获得主队列</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    dispatch_queue_t queue = dispatch_get_main_queue();</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    </span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #008F00;">异步函数</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    dispatch_async(queue, ^{</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">        NSLog(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #B4261A;">@&quot;1---%@&quot;</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">,[NSThread currentThread]);</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    });</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">}</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(0, 143, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">同步函数</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">+</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">并发队列</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">:</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">不会开线程</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">,</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">串行执行</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">-(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF;">void</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">)syncWithConcuerrent</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">{</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #008F00;">获得全局并发队列</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #008F00;">同步函数</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    dispatch_sync(queue, ^{</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">        NSLog(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #B4261A;">@&quot;1---%@&quot;</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">,[NSThread currentThread]);</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    });</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    </span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">}</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 11.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(0, 143, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">同步函数</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">+</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">串行队列</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">:</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">不会开线程</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">,</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">串行执行</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">-(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF;">void</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">)syncWithserial</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">{</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #008F00;">1.</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #008F00;">创建队列</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #008F00;">(</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #008F00;">串行队列</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #008F00;">)</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    dispatch_queue_t queue = dispatch_queue_create(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #B4261A;">&quot;com.520it.download&quot;</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">, DISPATCH_QUEUE_SERIAL);</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    </span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #008F00;">同步函数</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    dispatch_sync(queue, ^{</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">        NSLog(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #B4261A;">@&quot;1---%@&quot;</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">,[NSThread currentThread]);</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    });</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">}</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 11.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(0, 143, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">异步函数</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">+</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">串行队列</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">:</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">会开</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">1</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">条线程</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">,</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">串行执行</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">-(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF;">void</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">)asyncWithserial</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">{</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #008F00;">1.</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #008F00;">创建队列</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #008F00;">(</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #008F00;">串行队列</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #008F00;">)</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    dispatch_queue_t queue = dispatch_queue_create(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #B4261A;">&quot;com.520it.download&quot;</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">, DISPATCH_QUEUE_SERIAL);</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    </span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #008F00;">异步函数</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    dispatch_async(queue, ^{</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">        NSLog(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #B4261A;">@&quot;1---%@&quot;</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">,[NSThread currentThread]);</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    });</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    </span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">}</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 11.0pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(0, 143, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">异步函数</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">+</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">并发队列</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">:</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">会开线程</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">,</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">会开启多条线程</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">,</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">并发执行</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">-(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #0433FF;">void</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">)asyncWithConcurrent</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">{</span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #008F00;">1.</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #008F00;">创建队列</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #008F00;">(</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #008F00;">并发队列</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: #008F00;">)</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">   </span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(0, 143, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">    </span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">第一个参数</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">:C</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">语言的字符传</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">,</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">标签</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(0, 143, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">    </span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">第二个参数</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo;">:</span><span style="direction: ltr; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;;">队列的类型</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; color: rgb(0, 143, 0); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; color: #008F00; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    </span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    dispatch_queue_t queue = dispatch_queue_create(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #B4261A;">&quot;com.520it.download&quot;</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">, DISPATCH_QUEUE_CONCURRENT);</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    </span></div><div style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: black;">   </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;"> </span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: &quot;PingFang SC&quot;; color: #008F00;">异步函数</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    dispatch_async(queue, ^{</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">        NSLog(</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: #B4261A;">@&quot;1---%@&quot;</span><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">,[NSThread currentThread]);</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    });</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">    </span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%;">}</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><br/></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(79, 129, 189); font-family: Menlo; font-weight: bold;">笔记整理：Edison</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-weight: bold; color: rgb(79, 129, 189);">联系方式：QQ：277593 （笔记意见建议可加此Q，专人更新此笔记）；</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(79, 129, 189);"> </span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-family: Menlo; color: rgb(79, 129, 189); font-weight: bold;">注：小道途径获取到的笔记，无法自动更新，请谅解！(笔记平均每月更新一次，祝各位都能拿到心仪的offer)</span><span style="direction: ltr; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(79, 129, 189); font-family: Menlo;"> </span></div><div><br/></div></span>
</div></body></html> 