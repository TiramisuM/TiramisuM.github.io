<html>
<head>
  <title>面试  (十一) : Swift面试题-3</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <meta name="application-data:corenote-hostUUID" content="C8940BC2-A53C-4B55-B59C-4779464BC778"/>
  <meta name="application-data:corenote-localUUID" content="D0FC2E37-3F85-46A7-9804-A94F569A8909"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1076"/>
<h1>面试  (十一) : Swift面试题-3</h1>

<div>
<span><h4>class 和 struct 的区别</h4><ul><li>class是引用类型，struct则是值类型</li><li>class允许一个类继承另一个类的特征</li><li>类型转换允许在运行时检查和解释一个类实例的类型</li></ul><h4>不通过继承，代码复用（共享）的方式有哪些</h4><ul><li>为 class/struct/enum 添加extension</li><li>protocol + extension</li></ul><h4>Set 独有的方法有哪些？</h4><div>Set用来存储相同类型并且没有确定顺序的值。</div><div>Set类型取交集、并集、差集、补集这些数学中常用集合方法是独有的</div><h4>实现一个 min 函数，返回两个元素较小的元素</h4><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">这个应该是想考察泛型，值得注意的是要遵循Comparable</span></div><pre><img src="面试  (十一)  Swift面试题-3_files/Image.png" type="image/png" data-filename="Image.png" width="437"/></pre><h4>map、filter、reduce 的作用</h4><ul><li>map: 对数组中的每一个元素执行函数操作，并返回一个新的数组。</li><li>filter: 筛选数组中满足传入函数的元素，并返回新数组。</li><li>reduce:传入一个初值，再传入一个函数，初值和数组中每一个元素都会被传入函数计算结果，最终返回一个值。</li></ul><h4>map 与 flatmap 的区别</h4><ul><li>flatmap可以展开多层数组。</li><li>flatmap传入的函数可以返回nil。</li></ul><h4>什么是 copy on write</h4><div>copy on write: 写时复制</div><div>简单来说，对于值类型的复制并不会在复制的时候分配新的存储。而是在修改了其中某个值得时候分配新的存储。</div><h4>如何获取当前代码的函数名和行号</h4><ul><li>函数名：#function</li><li>行号： #line</li></ul><h4>如何声明一个只能被类 conform 的 protocol</h4><pre><img src="面试  (十一)  Swift面试题-3_files/Image [1].png" type="image/png" data-filename="Image.png" width="437"/></pre><pre><code><br/></code></pre><h4>guard 使用场景</h4><ul><li>guard语句来要求条件必须为真时，以执行guard语句后的代码。不同于if语句，一个guard语句总是有一个else从句，如果条件不为真则执行else从句中的代码。</li><li>最常用的是 optional 解包时候代替 if else 使用，避免大量代码缩进。</li></ul><h4>defer 使用场景</h4><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">defer在函数即将返回时候调用。多个defer讲按照定义倒叙调用</span></div><h3>String 与 NSString 的关系与区别</h3><ul><li>String是值类型，NSString是引用类型；</li><li>String 和 NSString在处理Unicode上有非常大的不同.</li></ul><pre><img src="面试  (十一)  Swift面试题-3_files/Image [2].png" type="image/png" data-filename="Image.png" width="554"/></pre><pre><font style="font-size: 14px;"><b>怎么获取一个 String 的长度</b></font></pre><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">看了上面一个题，这个就可以清楚了。</span></div><pre><img src="面试  (十一)  Swift面试题-3_files/Image [3].png" type="image/png" data-filename="Image.png" width="632"/>throws 和 rethrows 的用法与作用</pre><ul><li>throws: 用来表示该函数会抛出错误，可以使用 do try catch / try? / try! 来处理错误</li><li>rethrows: 这个还真没见过</li></ul><h4>try？ 和 try！是什么意思</h4><ul><li>try?: 将错误转换成一个可选值来处理错误。如果在评估try?表达式时一个错误被抛出，那么表达式的值就是nil</li><li>try!: 当你确定不会抛出错误，try!可以禁用错误传递，会把调用包装在一个不会有错误抛出的运行时断言中。如果真的抛出了错误，这会得到一个运行时错误。</li></ul><h4>associatedtype 的作用</h4><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">这个还有待考究</span></div><h4>什么时候使用 final</h4><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">当确定这个类、函数是最终实现（类不被继承，属性方法不被override）时候使用final保证代码安全</span></div><h4>public 和 open 的区别</h4><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">public 用來声明改函数或熟悉只有在這個 module 中可以被重写和继承，而 open的則权限最高，不仅可以在其他 module 中被访问，而且可以被继承和重写。</span></div><h4>声明一个只有一个参数没有返回值闭包的别名</h4><pre><img src="面试  (十一)  Swift面试题-3_files/Image [4].png" type="image/png" data-filename="Image.png" width="633"/>Self 的使用场景</pre><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">这个也代考究吧。。。</span></div><h4>dynamic 的作用</h4><h4>什么时候使用 @objc</h4><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">这两个问题其实喵神在《Swift100个Tips》里面写的很清楚了。</span><a href="http://swifter.tips/objc-dynamic/" style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">@OBJC 和 DYNAMIC</a></div><h4>Optional（可选型） 是用什么实现的</h4><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">enum</span></div><h4>如何自定义下标获取</h4><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">添加subscript方法</span></div><h4>?? 的作用</h4><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">Swift语法糖，当变量为nil的时候，则使用后面的值</span></div><h4>lazy 的作用</h4><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">当变量在使用的时候才加载</span></div><h4>一个类型表示选项，可以同时表示有几个选项选中（类似 UIViewAnimationOptions ），用什么类型表示</h4><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">OptionSet, 印象中注册推送使用过。</span></div><h4>inout 的作用</h4><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">函数传入的参数可以被修改</span></div><h4>Error 如果要兼容 NSError 需要做什么操作</h4><pre><img src="面试  (十一)  Swift面试题-3_files/Image [5].png" type="image/png" data-filename="Image.png" width="638"/>这个题目具体要考察什么，不是很清楚，所以答案自己不是很自信</pre><h4>下面的代码都用了哪些语法糖</h4><pre><img src="面试  (十一)  Swift面试题-3_files/Image [6].png" type="image/png" data-filename="Image.png" width="633"/><img src="面试  (十一)  Swift面试题-3_files/Image [7].png" type="image/png" data-filename="Image.png" width="636"/></pre><h4>什么是高阶函数</h4><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">参数或返回值是函数的函数</span></div><h4>如何解决引用循环</h4><ul><li>属性： weak unowned</li><li>闭包： [weak self] [unowned self]</li></ul><h4>下面的代码会不会崩溃，说出原因</h4><pre><img src="面试  (十一)  Swift面试题-3_files/Image [8].png" type="image/png" data-filename="Image.png" width="629"/></pre><div>这个是不会崩溃的，因为迭代器持有了数组的一个本地的，独立的复制。</div><div><span style="font-style: italic;">第一次看到这个觉得不会，再看觉得会。自己试一试不会。后来看到《Swift进阶》里面才清楚</span></div><h4>给集合中元素是字符串的类型增加一个扩展方法，应该怎么声明</h4><pre><img src="面试  (十一)  Swift面试题-3_files/Image [9].png" type="image/png" data-filename="Image.png" width="632"/></pre><h4>定义静态方法时关键字 static 和 class 有什么区别</h4><ul><li>class 可以被override</li><li>static 不可以</li></ul><h2>高级</h2><h4>一个 Sequence 的索引是不是一定从 0 开始？</h4><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">Of course! NOT!</span></div><h4>数组都实现了哪些协议</h4><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">这个翻文档吧。Collection，Sequence...</span></div><h4>如何自定义模式匹配</h4><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">这是啥。。。</span></div><h4>autoclosure 的作用</h4><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">对代码优化。</span></div><h4>编译选项 whole module optmization 优化了什么</h4><ul><li>减少编译时间, 编译时对同属一个 Module 的源码做整体分析, 而不是单文件分析</li><li>排除从不调用的函数</li></ul><h4>下面代码中 mutating 的作用是什么</h4><pre><img src="面试  (十一)  Swift面试题-3_files/Image [10].png" type="image/png" data-filename="Image.png" width="637"/></pre><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">结构体在改变自身时候需要添加mutating</span></div><h4>如何让自定义对象支持字面量初始化</h4><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">添加遵循ExpressibleByXXXXXLiteral协议</span></div><h4>dynamic framework 和 static framework 的区别是什么</h4><ul><li>动态库文件名后缀：.dylib和.framework; 静态库文件名后缀：.a和.framework</li><li>静态库：链接时，静态库会被完整地复制到可执行文件中，被多次使用就有多份冗余拷贝</li><li>系统动态库：链接时不复制，程序运行时由系统动态加载到内存，供程序调用，系统只加载一次，多个程序共用，节省内存</li></ul><h2>哲学部分</h2><h4>为什么数组索引越界会崩溃，而字典用下标取值时 key 没有对应值的话返回的是 nil 不会崩溃。</h4><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">其实这个问题，一开始（以OC思想）使用Swift的时候就很郁闷，但是后来用的越来熟，就大概可以猜测。因为Swift直接计算一个索引是很少见的操作。更多的时候使用数组切片就可以解决了。</span></div><h4>一个函数的参数类型只要是数字（Int、Float）都可以，要怎么表示。</h4><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">这个只想到用OC里面的NSNumber这个类，网上看到一个比较好的方法。可以参考下：</span></div><pre><img src="面试  (十一)  Swift面试题-3_files/Image [11].png" type="image/png" data-filename="Image.png" width="634"/></pre><hr/><div><br/></div><div><br/></div><div><span style="padding: 0px; color: rgb(79, 129, 189); font-family: Arial; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial; direction: ltr; margin-top: 1em; margin-bottom: 1em; unicode-bidi: embed; font-weight: bold;">笔记整理：Edison</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Arial; font-size: 14px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-weight: bold; color: rgb(79, 129, 189); unicode-bidi: embed; padding: 0px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;">联系方式：QQ：277593 （笔记意见建议可加此Q，专人更新此笔记）；</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: Arial; font-size: 14px; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(79, 129, 189); unicode-bidi: embed; padding: 0px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"> </span></div><div><span style="padding: 0px; color: rgb(79, 129, 189); font-family: Arial; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial; direction: ltr; margin-top: 1em; margin-bottom: 1em; unicode-bidi: embed; font-weight: bold;">注：小道途径获取到的笔记，无法自动更新，请谅解！(笔记平均每月更新一次，祝各位都能拿到心仪的offer)</span><span style="padding: 0px; color: rgb(79, 129, 189); font-family: Arial; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; direction: ltr; margin-top: 1em; margin-bottom: 1em; unicode-bidi: embed;"> </span></div></span>
</div></body></html> 