<html>
<head>
  <title>稀土掘金  (二十三) :  Appium自动化测试</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <meta name="application-data:corenote-hostUUID" content="C8940BC2-A53C-4B55-B59C-4779464BC778"/>
  <meta name="application-data:corenote-localUUID" content="D80DD773-69A9-418C-B226-117C439C2774"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1002"/>
<h1>稀土掘金  (二十三) :  Appium自动化测试</h1>

<div>
<span><div>开读之前你需要知道的</div><h2>Appium是个什么鬼</h2><div><a href="http://appium.io/index.html?lang=zh">Appium</a>是一个移动端的自动化框架，可用于测试原生应用，移动网页应用和混合型应用，且是跨平台的。可用于IOS和Android以及firefox的操作系统。原生的应用是指用android或ios的sdk编写的应用，移动网页应用是指网页应用，类似于ios中safari应用或者Chrome应用或者类浏览器的应用。混合应用是指一种包裹webview的应用,原生应用于网页内容交互性的应用。</div><div>重要的是Appium是跨平台的，何为跨平台，意思就是可以针对不同的平台用一套api来编写测试用例。</div><h2>Appium环境搭建</h2><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">先把一下环境装好备用</span></div><ul><li>Java</li><li>Command_Line_Tools (<a href="http://obh6cwxkc.bkt.clouddn.com/Command_Line_Tools_OS_X_10.11_for_Xcode_7.3.1.dmg">http://obh6cwxkc.bkt.clouddn.com/Command_Line_Tools_OS_X_10.11_for_Xcode_7.3.1.dmg</a>)</li><li>ruby (<a href="https://ruby-china.org/">https://ruby-china.org/</a>)</li><li>brew (<a href="http://brew.sh/index_zh-cn.html">http://brew.sh/index_zh-cn.html</a>)</li><li>node (<a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a>)</li><li>npm</li><li>Appium (npm install -g appium 安装即可)</li></ul><div>当然你也完全可以不用这样安装appium,直接用dmg安装包also ok~</div><div><a href="http://appium.io/index.html?lang=zh">appium 官网</a></div><div>如果你嫌网速慢,也可以用我下载好的download</div><div><a href="http://obh6cwxkc.bkt.clouddn.com/appium-1.5.3.dmg">appium me</a></div><div>打开Appium 应用程序,点击3监测一下环境</div><div><img src="稀土掘金  (二十三)   Appium自动化测试_files/Image.png" type="image/png" data-filename="Image.png" width="690"/><br/></div><div>红色框框代表iOS测试所需要的,绿色代表安装成功</div><div><img src="稀土掘金  (二十三)   Appium自动化测试_files/Image [1].png" type="image/png" data-filename="Image.png" width="665"/><br/></div><h1>开战实际项目开发</h1><h2>自动化测试项目搭建</h2><ul><li>.zip 是.app的压缩文件,当然你也可以直接用XXX.app (xcode编译项目,Products目录下有XXX.app)</li><li>common 里包含着测试公用的.rb文件</li><li>gemfile 所需的gem包</li><li>spec 文件包含所有模块的测试rb文件</li></ul><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><a href="http://qiaotongxin.cc/images/posts/appium_2.png"><img src="稀土掘金  (二十三)   Appium自动化测试_files/Image [2].png" type="image/png" data-filename="Image.png"/><br/></a><br/></div><h2>模拟器运行项目</h2><h3>配置appium</h3><ul><li>APP路径要对</li><li>设备模拟器和版本匹配要对</li><li>红框内必选(boudleID也可以不写)</li></ul><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><a href="http://qiaotongxin.cc/images/posts/appium_3.png"><img src="稀土掘金  (二十三)   Appium自动化测试_files/Image [3].png" type="image/png" data-filename="Image.png"/><br/></a><br/></div><h3>配置完点击=&gt; 问号(inspector) 弹出inspector 视图元素检查页面</h3><div><a href="http://qiaotongxin.cc/images/posts/appium_spect.png"><img src="稀土掘金  (二十三)   Appium自动化测试_files/Image [4].png" type="image/png" data-filename="Image.png"/><br/></a><br/></div><div><a href="http://qiaotongxin.cc/images/posts/appium_text.png"><img src="稀土掘金  (二十三)   Appium自动化测试_files/Image [5].png" type="image/png" data-filename="Image.png"/><br/></a><br/></div><div><a href="http://qiaotongxin.cc/images/posts/appium_local.png"><img src="稀土掘金  (二十三)   Appium自动化测试_files/Image [6].png" type="image/png" data-filename="Image.png"/><br/></a><br/></div><div><a href="http://qiaotongxin.cc/images/posts/appium_misc.png"><img src="稀土掘金  (二十三)   Appium自动化测试_files/Image [7].png" type="image/png" data-filename="Image.png"/><br/></a><br/></div><div>点击完Record</div><div><a href="http://qiaotongxin.cc/images/posts/appium_code.png"><img src="稀土掘金  (二十三)   Appium自动化测试_files/Image [8].png" type="image/png" data-filename="Image.png"/><br/></a><br/></div><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">对于如何编写测试代码,两种方式,一种你可以直接在页面区操作页面,同时在代码区生成测试代码(此代码是利用xpath遍历定位元素,效率不高).另一种是用appium提供的定位元素方法编写测试代码(</span><a href="http://www.rubydoc.info/gems/appium_lib/Appium/Ios" style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">这里是appium的所有方法</a><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">)</span></div><h3>如果弹 不出此页面,你可以尝试</h3><ul><li>更换server address : 127.0.0.1</li><li>检查打包的.app文件是否为开发证书编译</li><li>检查当前xcode的模拟器和当前选择的设备是否一致</li><li>如果还不行,请尝试更换.app</li></ul><h3>.rb怎么写?</h3><div>可能有些小白读到这里还是不知道该如何下手,这里我已经基本的框架搭建完成,供大家小试.</div><div><a href="http://obh6cwxkc.bkt.clouddn.com/appium%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95.zip">appium demo</a></div><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">启动appium 测试</span></div><ul><li>要 开启服务</li><li>要 rspec 执行命令</li><li>然后模拟器就会自动开启执行你rspec里所有的.rb文件</li></ul><h1>总结</h1><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;">这里面的坑,还有很多.多去testhome里看看,appium提供的方法很多,这是一个要花费很多时间去尝试的经历.重要的元素定位方法,测试用例的编写,ruby语言的了解,如果以上都完成了,那你就可以去了解如何用Jenkins部署项目自动化测试了~~</span></div><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><br/></div><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><br/></div><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; color: rgb(79, 129, 189); margin-top: 1em; margin-bottom: 1em; unicode-bidi: embed; font-size: 10.5pt; -en-paragraph: true; border-width: 100%; font-weight: bold;">笔记整理：Edison</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; font-weight: bold; color: rgb(79, 129, 189); unicode-bidi: embed;">联系方式：QQ：277593 （笔记意见建议可加此Q，专人更新此笔记）；</span></div><div style="direction: ltr; font-family: Menlo; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; font-size: 10.5pt; -en-paragraph: true; margin-top: 1em; margin-bottom: 1em; border-width: 100%; color: rgb(79, 129, 189); unicode-bidi: embed;"> </span></div><div style="-en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; color: rgb(79, 129, 189); margin-top: 1em; margin-bottom: 1em; unicode-bidi: embed; font-size: 10.5pt; -en-paragraph: true; border-width: 100%; font-weight: bold;">注：小道途径获取到的笔记，无法自动更新，请谅解！(笔记平均每月更新一次，祝各位都能拿到心仪的offer)</span><span style="direction: ltr; font-family: SimSun; color: rgb(79, 129, 189); margin-top: 1em; margin-bottom: 1em; unicode-bidi: embed; font-size: 10.5pt; -en-paragraph: true; border-width: 100%;"> </span></div><div><br/></div></span>
</div></body></html> 