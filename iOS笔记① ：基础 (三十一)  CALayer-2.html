<html>
<head>
  <title>iOS笔记① ：基础 (三十一) : CALayer-2</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <meta name="application-data:corenote-hostUUID" content="C8940BC2-A53C-4B55-B59C-4779464BC778"/>
  <meta name="application-data:corenote-localUUID" content="5853C4B0-1C6D-4310-88D4-9376437B11BF"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="2170"/>
<h1>iOS笔记① ：基础 (三十一) : CALayer-2</h1>

<div>
<span><div style="direction: ltr; font-size: 13.5pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: SimSun; background: #5DB4DC;">一、什么是</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #5DB4DC;">CALayer</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">在</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">iOS</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">系统中，你能看得见摸得着的东西基本上都是</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">，比如一个按钮、一个文本标签、一个文本输入框、一个图标等等，这些都是</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">。</span></div><div style="direction: ltr; font-size: 10.5pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">其实</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">之所以能显示在屏幕上，完全是因为它内部的一个</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: red;">层</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">。</span></div><div style="direction: ltr; font-size: 10.5pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">在创建</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">对象时，</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">内部会自动创建一个</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: red;">层</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">(</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">即</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">对象</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">)</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">，通过</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: red;">layer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">属性可以访问这个层。当</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">需要显示到屏幕上时，会调用</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">drawRect:</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">方法进行绘图，并且会将所有内容绘制在自己的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: red;">层</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">上，绘图完毕后，系统会将</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: red;">层</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">拷贝到屏幕上，于是就完成了</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">的显示。</span></div><div style="direction: ltr; font-size: 10.5pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">换句话说，</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">本身不具备显示的功能，是它内部的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: red;">层</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">才有显示功能。</span></div><div style="direction: ltr; font-family: SimSun; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: SimSun; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr; font-size: 13.5pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: SimSun; background: #5DB4DC;">二、</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #5DB4DC;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: SimSun; background: #5DB4DC;">的简单使用</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">上面已经说过了，</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">之所以能够显示，完全是因为内部的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">对象。因此，通过操作这个</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">对象，可以很方便地调整</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">的一些界面属性，比如：阴影、圆角大小、边框宽度和颜色等。</span></div><div style="direction: ltr; font-size: 16pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">1.CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">是被定义在</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">QuartzCore</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">框架中的，因此要想使用</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">，先导入</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">QuartzCore</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">框架</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">1&gt;</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">点击项目名称，然后点击右边</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">TARGETS</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">下面的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">target</span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image.png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">2&gt;</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">点击</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">Build Pases</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">后，展开</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">Link Binary....</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">，添加</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">+</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">号</span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image [1].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">3&gt;</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">在搜索框中输入</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">&quot;Quartz&quot;</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">，选中</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">QuartzCore.framework</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">，最后</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">add</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">添加</span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image [2].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">4&gt;</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">添加完毕后，这个框架就会出现在项目文件夹中</span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image [3].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">如果你觉得位置不好看，还可以将它拖到</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">Frameworks</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">文件夹下，跟其他框架放一起</span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image [4].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-family: verdana; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: verdana; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr; font-size: 16pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">2.</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">在项目代码中导入</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">QuartzCore</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">框架的主头文件</span></div><div style="direction: ltr; font-family: 'Courier New'; font-size: 9pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: &quot;Courier New&quot;; font-size: 9.0pt;">#import &lt;QuartzCore/QuartzCore.h&gt;</span></div><div style="direction: ltr; font-family: verdana; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: verdana; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr; font-size: 16pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">3.</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">通过</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">修改</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">UIImageView</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">的界面属性</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">你也可以使用</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIButton</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">或者</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UILabel</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">，这里就以</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIImageView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">为例子</span></div><div style="direction: ltr; font-size: 10.5pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;;">1&gt;</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: black;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: black; font-weight: bold; font-family: SimSun;">先创建一个</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;;">UIImageView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: black; font-weight: bold; font-family: SimSun;">，添加到控制器的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;;">view</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: black; font-weight: bold; font-family: SimSun;">中</span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image [5].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-size: 10.5pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;;">2&gt;</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: black;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: black; font-weight: bold; font-family: SimSun;">设置阴影</span></div><div style="direction: ltr; border-width: 100%; font-family: &quot;Courier New&quot;; font-size: 9.0pt;"><span style="direction: ltr; border-width: 100%; font-family: &quot;Courier New&quot;; font-size: 9.0pt;">1 imageView.layer.shadowColor = [UIColor grayColor].CGColor;</span></div><div style="direction: ltr; border-width: 100%; font-family: &quot;Courier New&quot;; font-size: 9.0pt;"><span style="direction: ltr; border-width: 100%; font-family: &quot;Courier New&quot;; font-size: 9.0pt;">2 imageView.layer.shadowOffset = CGSizeMake(10, 10);</span></div><div style="direction: ltr; border-width: 100%; font-family: &quot;Courier New&quot;; font-size: 9.0pt;"><span style="direction: ltr; border-width: 100%; font-family: &quot;Courier New&quot;; font-size: 9.0pt;">3 imageView.layer.shadowOpacity = 0.5;</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">第</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">1</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">行设置阴影的颜色为灰色，注意，这里使用的是</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIColor</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CGColor</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">属性，是一种</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CGColorRef</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">类型的数据</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">第</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">2</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">行设置阴影的偏移大小，可以看出阴影往原图的右下角偏移</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">第</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">3</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">行设置阴影的不透明度为</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">0.5</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">，表示半透明。如果为</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">1</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">，代表完全不透明。</span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image [6].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-size: 10.5pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;;">3&gt;</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: black; font-weight: bold; font-family: verdana;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: black; font-weight: bold; font-family: SimSun;">设置圆角大小</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">通过</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">layer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">属性可以访问视图内部的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">对象</span></div><div style="direction: ltr; border-width: 100%; font-family: &quot;Courier New&quot;; font-size: 9.0pt;"><span style="direction: ltr; border-width: 100%; font-family: &quot;Courier New&quot;; font-size: 9.0pt;">1 imageView.layer.cornerRadius = 10;</span></div><div style="direction: ltr; border-width: 100%; font-family: &quot;Courier New&quot;; font-size: 9.0pt;"><span style="direction: ltr; border-width: 100%; font-family: &quot;Courier New&quot;; font-size: 9.0pt;">2 imageView.layer.masksToBounds = YES;</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">第</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">1</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">行设置圆角半径为</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">10</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">第</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">2</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">行的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">maskToBounds=YES</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">：可以看做是强制内部的所有子层支持圆角效果，少了这个设置，</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIImageView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">是不会有圆角效果的</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: verdana;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">注意，如果设置了</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">maskToBounds=YES</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">，那将不会有阴影效果</span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image [7].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-size: 10.5pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;;">4&gt;</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: black;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: black; font-weight: bold; font-family: SimSun;">设置边框宽度和颜色</span></div><div style="direction: ltr; border-width: 100%; font-family: &quot;Courier New&quot;; font-size: 9.0pt;"><span style="direction: ltr; border-width: 100%; font-family: &quot;Courier New&quot;; font-size: 9.0pt;">1 imageView.layer.borderWidth = 5;</span></div><div style="direction: ltr; border-width: 100%; font-family: &quot;Courier New&quot;; font-size: 9.0pt;"><span style="direction: ltr; border-width: 100%; font-family: &quot;Courier New&quot;; font-size: 9.0pt;">2 imageView.layer.borderColor = [UIColor redColor].CGColor;</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">第</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">1</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">行设置边框宽度为</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">5</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">第</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">2</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">行设置边框颜色为红色</span></div><div style="direction: ltr; font-family: verdana; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: verdana; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image [8].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-size: 10.5pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;;">5&gt;</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: black;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: black; font-weight: bold; font-family: SimSun;">设置旋转</span></div><div style="direction: ltr; font-family: 'Courier New'; font-size: 9pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: &quot;Courier New&quot;; font-size: 9.0pt;">imageView.layer.transform = CATransform3DMakeRotation(M_PI_4, 0, 0, 1);</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">利用</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">transform</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">属性可以设置旋转、缩放等效果</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">* M_PI_4</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">表示四分之</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">π</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">，顺时针旋转</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">45°</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">后面的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">(0, 0, 1)</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">表示</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">Z</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">轴这个向量，修改这个向量可以做一些三维旋转效果，你可以随便改个值试一下，比如</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">(1, 1, 1)</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">总体的意思是</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">layer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">会绕着</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">Z</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">轴顺时针旋转</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">45°</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">，也就是在</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">x</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">、</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">y</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">平面进行旋转</span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image [9].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-family: SimSun; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: SimSun; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr; font-family: SimSun; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: SimSun; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr; font-family: SimSun; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: SimSun; font-size: 10.5pt; color: #333333; font-weight: bold;">本文目录</span></div><ul style="direction: ltr; border-width: 100%; unicode-bidi: embed;" type="disc"><li style="color: #399AB2;"><span style="font-family: SimSun; font-size: 10.5pt;">一、添加一个简单的图层</span></li><li style="color: #399AB2;"><span style="font-family: SimSun; font-size: 10.5pt;">二、添加一个显示图片的图层</span></li><li style="color: #399AB2;"><span style="font-family: SimSun; font-size: 10.5pt;">三、为什么</span><span style="font-family: verdana; font-size: 10.5pt;">CALayer</span><span style="font-family: SimSun; font-size: 10.5pt;">中使用</span><span style="font-family: verdana; font-size: 10.5pt;">CGColorRef</span><span style="font-family: SimSun; font-size: 10.5pt;">和</span><span style="font-family: verdana; font-size: 10.5pt;">CGImageRef</span><span style="font-family: SimSun; font-size: 10.5pt;">这</span><span style="font-family: verdana; font-size: 10.5pt;">2</span><span style="font-family: SimSun; font-size: 10.5pt;">种数据类型，而不用</span><span style="font-family: verdana; font-size: 10.5pt;">UIColor</span><span style="font-family: SimSun; font-size: 10.5pt;">和</span><span style="font-family: verdana; font-size: 10.5pt;">UIImage</span><span style="font-family: SimSun; font-size: 10.5pt;">？</span></li><li style="color: #399AB2;"><span style="font-family: SimSun; font-size: 10.5pt;">四、</span><span style="font-family: verdana; font-size: 10.5pt;">UIView</span><span style="font-family: SimSun; font-size: 10.5pt;">和</span><span style="font-family: verdana; font-size: 10.5pt;">CALayer</span><span style="font-family: SimSun; font-size: 10.5pt;">的选择</span></li><li style="color: #399AB2;"><span style="font-family: SimSun; font-size: 10.5pt;">五、</span><span style="font-family: verdana; font-size: 10.5pt;">UIView</span><span style="font-family: SimSun; font-size: 10.5pt;">和</span><span style="font-family: verdana; font-size: 10.5pt;">CALayer</span><span style="font-family: SimSun; font-size: 10.5pt;">的其他关系</span></li></ul><div style="direction: ltr; font-size: 10.5pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">* </span><a href="http://www.cnblogs.com/mjios/archive/2013/04/13/3019335.html" style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun;">上一讲</a><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">已经说过，</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">内部默认有个</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">对象</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">(</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">层</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">)</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">，通过</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">layer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">属性可以访问这个层。要注意的是，这个默认的层</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: red;">不允许重新创建</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">，但可以往层里面添加子层</span></div><div style="direction: ltr; font-size: 10.5pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">* </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: blue;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">可以通过</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">a</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: red;">ddSubview:</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">方法添加</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: green;">子视图</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">，类似地，</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: blue;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">可以通过</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: red;">addSublayer:</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">方法添加</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: green;">子层</span></div><div style="direction: ltr; font-family: SimSun; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: SimSun; font-size: 10.5pt; color: #333333;">接下来演示一下如何添加子层：</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; text-align: right;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: SimSun; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-family: SimSun; font-size: 13.5pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: SimSun; font-size: 13.5pt; color: black; font-weight: bold; background: #5DB4DC;">一、添加一个简单的图层</span></div><div style="direction: ltr; font-family: Calibri; font-size: 11pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: Calibri; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-size: 9pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">1 CALayer *myLayer = [CALayer layer];</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">2 //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: SimSun;">设置层的宽度和高度（</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">100x100</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: SimSun;">）</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">3 myLayer.bounds = CGRectMake(0, 0, 100, 100);</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">4 //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: SimSun;">设置层的位置</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">5 myLayer.position = CGPointMake(100, 100);</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">6 //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: SimSun;">设置层的背景颜色：红色</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">7 myLayer.backgroundColor = [UIColor redColor].CGColor;</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">8 //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: SimSun;">设置层的圆角半径为</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">10</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">9 myLayer.cornerRadius = 10;</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">10</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">11 //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: SimSun;">添加</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">myLayer</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: SimSun;">到控制器的</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">view</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: SimSun;">的</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">layer</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: SimSun;">中</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">12 [self.view.layer addSublayer:myLayer];</span></div><div style="direction: ltr; font-family: Calibri; font-size: 11pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: Calibri; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">第</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">1</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">行创建了一个自动释放的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">对象，你也可以使用经典的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">alloc</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">和</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">init</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">方法来创建</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">第</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">12</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">行将创建好的层添加到控制器的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">view</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">的层中</span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image [10].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-family: verdana; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: verdana; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; text-align: right;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: SimSun; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-family: SimSun; font-size: 13.5pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: SimSun; font-size: 13.5pt; color: black; font-weight: bold; background: #5DB4DC;">二、添加一个显示图片的图层</span></div><div style="direction: ltr; font-family: Calibri; font-size: 11pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: Calibri; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-size: 9pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">1 CALayer *myLayer = [CALayer layer];</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">2 //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: SimSun;">设置层的宽度和高度（</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">100x100</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: SimSun;">）</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">3 myLayer.bounds = CGRectMake(0, 0, 100, 100);</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">4 //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: SimSun;">设置层的位置</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">5 myLayer.position = CGPointMake(100, 100);</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">6 //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: SimSun;">设置需要显示的图片</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">7 myLayer.contents = (id)[UIImage imageNamed:@&quot;lufy.png&quot;].CGImage;</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">8 //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: SimSun;">设置层的圆角半径为</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">10</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">9 myLayer.cornerRadius = 10;</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">10 //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: SimSun;">如果设置了图片，需要设置这个属性为</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">YES</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: SimSun;">才有圆角效果</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">11 myLayer.masksToBounds = YES;</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">12</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">13 //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: SimSun;">添加</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">myLayer</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: SimSun;">到控制器的</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">view</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: SimSun;">的</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">layer</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: SimSun;">中</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; font-family: &quot;Courier New&quot;;">14 [self.view.layer addSublayer:myLayer];</span></div><div style="direction: ltr; font-family: Calibri; font-size: 11pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: Calibri; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">在第</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">7</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">行设置需要显示的图片，注意，这里用的是</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIImage</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CGImage</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">属性，是一种</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CGImageRef</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">类型的数据</span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image [11].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-family: verdana; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: verdana; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; text-align: right;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: SimSun; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-size: 13.5pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: SimSun; background: #5DB4DC;">三、为什么</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #5DB4DC;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: SimSun; background: #5DB4DC;">中使用</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #5DB4DC;">CGColorRef</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: SimSun; background: #5DB4DC;">和</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #5DB4DC;">CGImageRef</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: SimSun; background: #5DB4DC;">这</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #5DB4DC;">2</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: SimSun; background: #5DB4DC;">种数据类型，而不用</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #5DB4DC;">UIColor</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: SimSun; background: #5DB4DC;">和</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #5DB4DC;">UIImage</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: SimSun; background: #5DB4DC;">？</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">首先要知道：</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">是定义在</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">QuartzCore</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">框架中的；</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CGImageRef</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">、</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CGColorRef</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">两种数据类型是定义在</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CoreGraphics</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">框架中的；</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIColor</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">、</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIImage</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">是定义在</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIKit</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">框架中的</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">其次，</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">QuartzCore</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">框架和</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CoreGraphics</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">框架是可以跨平台使用的，在</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">iOS</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">和</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">Mac OS X</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">上都能使用，但是</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIKit</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">只能在</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">iOS</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">中使用</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">因此，为了保证可移植性，</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">QuartzCore</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">不能使用</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIImage</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">、</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIColor</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">，只能使用</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CGImageRef</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">、</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CGColorRef</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">不过很多情况下，可以通过</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIKit</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">对象的特定方法，得到</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CoreGraphics</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">对象，比如</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIImage</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CGImage</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">方法可以返回一个</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CGImageRef</span></div><div style="direction: ltr; font-family: verdana; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: verdana; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; text-align: right;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: SimSun; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-size: 13.5pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: SimSun; background: #5DB4DC;">四、</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #5DB4DC;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: SimSun; background: #5DB4DC;">和</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #5DB4DC;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: SimSun; background: #5DB4DC;">的选择</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">细心的朋友不难发现，其实前面的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">2</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">个效果不仅可以通过添加层来实现，还可以通过添加</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">来实现。比如，第</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">1</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">个红色的层可以用一个</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">来实现，第</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">2</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">个显示图片的层可以用一个</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIImageView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">来实现。</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: verdana;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">既然</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">和</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">都能实现相同的显示效果，那究竟该选择谁好呢？</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">其实，对比</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">，</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">多了一个事件处理的功能。也就是说，</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">不能处理用户的触摸事件，而</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">可以</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">所以，如果显示出来的东西需要跟用户进行交互的话，用</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">；如果不需要跟用户进行交互，用</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">或者</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">都可以</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">当然，</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">的性能会高一些，因为它少了事件处理的功能，更加轻量级</span></div><div style="direction: ltr; font-family: verdana; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: verdana; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; text-align: right;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: SimSun; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-size: 13.5pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: SimSun; background: #5DB4DC;">五、</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #5DB4DC;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: SimSun; background: #5DB4DC;">和</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #5DB4DC;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: SimSun; background: #5DB4DC;">的其他关系</span></div><div style="direction: ltr; font-size: 10.5pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">* </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: blue;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">可以通过</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: red;">subviews</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">属性访问</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: green;">所有的子视图</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">，类似地，</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: blue;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">也可以通过</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: red;">sublayers</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">属性访问</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: green;">所有的子层</span></div><div style="direction: ltr; font-size: 10.5pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">* </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: blue;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">可以通过</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: red;">superview</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">属性访问</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: green;">父视图</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">，类似地，</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: blue;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">也可以通过</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: red;">superlayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">属性访问</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: green;">父层</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">下面再看一张</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">和</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">的关系图：</span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image [12].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">如果两个</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">是父子关系，那么它们内部的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">也是父子关系。</span></div><div style="direction: ltr; font-family: SimSun; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: SimSun; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><a href="http://www.cnblogs.com/mjios/archive/2013/04/14/3020291.html" style="direction: ltr; border-width: 100%; font-weight: bold; font-family: verdana; font-size: 10.5pt;">CALayer3-</a><a href="http://www.cnblogs.com/mjios/archive/2013/04/14/3020291.html" style="direction: ltr; border-width: 100%; font-weight: bold; font-family: SimSun; font-size: 10.5pt;">层的属性</a></div><div style="direction: ltr; font-family: SimSun; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: SimSun; font-size: 10.5pt; color: #333333; font-weight: bold;">本文目录</span></div><ul style="direction: ltr; border-width: 100%; unicode-bidi: embed;" type="disc"><li style="color: #399AB2;"><span style="font-family: SimSun; font-size: 10.5pt;">一、隐式动画属性</span></li><li style="color: #399AB2;"><span style="font-family: SimSun; font-size: 10.5pt;">二、</span><span style="font-family: verdana; font-size: 10.5pt;">position</span><span style="font-family: SimSun; font-size: 10.5pt;">和</span><span style="font-family: verdana; font-size: 10.5pt;">anchorPoint</span></li></ul><div style="direction: ltr; font-family: SimSun; font-size: 11pt; text-align: right;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: SimSun; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-family: SimSun; font-size: 13.5pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: SimSun; font-size: 13.5pt; color: black; font-weight: bold; background: #5DB4DC;">一、隐式动画属性</span></div><div style="direction: ltr; font-size: 10.5pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">在</span><a href="http://www.cnblogs.com/mjios/archive/2013/04/13/3019335.html" style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun;">前面几讲</a><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">中已经提到，每一个</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">内部都默认关联着一个</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">，我们可用称这个</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">Layer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">为</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">Root Layer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">（根层）。所有的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: red;">非</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: red;">Root Layer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">，也就是手动创建的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">对象，都存在着隐式动画。</span></div><div style="direction: ltr; font-size: 10.5pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">当对</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: red;">非</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: red;">Root Layer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">的部分属性进行相应的修改时，默认会自动产生一些动画效果，这些属性称为</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">Animatable Properties(</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">可动画属性</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">)</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">。</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">列举几个常见的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">Animatable Properties</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">：</span></div><ul style="direction: ltr; border-width: 100%; unicode-bidi: embed;" type="disc"><li style="color: #333333;"><span style="font-family: &quot;courier new&quot;; font-size: 10.5pt; color: #333333;">bounds</span><span style="font-family: SimSun; font-size: 10.5pt; color: #333333;">：用于设置</span><span style="font-family: &quot;courier new&quot;; font-size: 10.5pt; color: #333333;">CALayer</span><span style="font-family: SimSun; font-size: 10.5pt; color: #333333;">的宽度和高度。修改这个属性会产生</span><span style="font-family: SimSun; font-size: 10.5pt; color: red;">缩放</span><span style="font-family: SimSun; font-size: 10.5pt; color: #333333;">动画</span></li><li style="color: #333333;"><span style="font-family: &quot;courier new&quot;; font-size: 10.5pt; color: #333333;">backgroundColor</span><span style="font-family: SimSun; font-size: 10.5pt; color: #333333;">：用于设置</span><span style="font-family: &quot;courier new&quot;; font-size: 10.5pt; color: #333333;">CALayer</span><span style="font-family: SimSun; font-size: 10.5pt; color: #333333;">的背景色。修改这个属性会产生</span><span style="font-family: SimSun; font-size: 10.5pt; color: red;">背景色的渐变</span><span style="font-family: SimSun; font-size: 10.5pt; color: #333333;">动画</span></li><li style="color: #333333;"><span style="font-family: &quot;courier new&quot;; font-size: 10.5pt; color: #333333;">position</span><span style="font-family: SimSun; font-size: 10.5pt; color: #333333;">：用于设置</span><span style="font-family: &quot;courier new&quot;; font-size: 10.5pt; color: #333333;">CALayer</span><span style="font-family: SimSun; font-size: 10.5pt; color: #333333;">的位置。修改这个属性会产生</span><span style="font-family: SimSun; font-size: 10.5pt; color: red;">平移</span><span style="font-family: SimSun; font-size: 10.5pt; color: #333333;">动画</span></li></ul><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">比如：假设一开始</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">position</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">为</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">(100, 100)</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">，然后在某个时刻修改为</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">(200, 200)</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">，那么整个</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">就会在短时间内从</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">(100, 100)</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">这个位置平移到</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">(200, 200)</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">我们也可以从官方文档中查询所有的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">Animatable Properties</span></div><div style="direction: ltr; font-size: 16pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">1.</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">点击</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">Window -&gt; Organizer</span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image [13].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-family: verdana; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: verdana; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr; font-size: 16pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">2.</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">在搜索框输入</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">&quot;animatable&quot;</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">即可</span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image [14].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-family: verdana; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: verdana; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; text-align: right;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: SimSun; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-size: 13.5pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: SimSun; background: #5DB4DC;">二、</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #5DB4DC;">position</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: SimSun; background: #5DB4DC;">和</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #5DB4DC;">anchorPoint</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">* position</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">和</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">anchorPoint</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">属性都是</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CGPoint</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">类型的</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">* position</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">可以用来设置</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">在父层中的位置，它是以父层的左上角为坐标原点</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">(0, 0)</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">* anchorPoint</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">称为</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">&quot;</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">定位点</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">&quot;</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">，它决定着</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">身上的哪个点会在</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">position</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">属性所指的位置。它的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">x</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">、</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">y</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">取值范围都是</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">0~1</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">，默认值为</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">(0.5, 0.5)</span></div><div style="direction: ltr; font-size: 16pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">1.</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">创建一个</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">，添加到控制器的</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">view</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">的</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">layer</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">中</span></div><div style="direction: ltr; font-family: Calibri; font-size: 11pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: Calibri; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-size: 9pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">1 CALayer *myLayer = [CALayer layer];</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">2 //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">设置层的宽度和高度（</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">100x100</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">）</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">3 myLayer.bounds = CGRectMake(0, 0, 100, 100);</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">4 //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">设置层的位置</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">5 myLayer.position = CGPointMake(100, 100);</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">6 //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">设置层的背景颜色：红色</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">7 myLayer.backgroundColor = [UIColor redColor].CGColor;</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">8</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">9 //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">添加</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">myLayer</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">到控制器的</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">view</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">的</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">layer</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">中</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">10 [self.view.layer addSublayer:myLayer];</span></div><div style="direction: ltr; font-family: Calibri; font-size: 11pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: Calibri; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">第</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">5</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">行设置了</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">myLayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">position</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">为</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">(100, 100)</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">，又因为</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">anchorPoint</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">默认是</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">(0.5, 0.5)</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">，所以最后的效果是：</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">myLayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">的中点会在父层的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">(100, 100)</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">位置</span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image [15].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">注意，蓝色线是我自己加上去的，方便大家理解，并不是默认的显示效果。两条蓝色线的宽度均为</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">100</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">。</span></div><div style="direction: ltr; font-family: verdana; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: verdana; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr; font-size: 16pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">2.</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">若将</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">anchorPoint</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">改为</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">(0, 0)</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">，</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">myLayer</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">的左上角会在</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">(100, 100)</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">位置</span></div><div style="direction: ltr; font-family: 'Courier New'; font-size: 9pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: &quot;Courier New&quot;; font-size: 9.0pt; color: #333333;">1 myLayer.anchorPoint = CGPointMake(0, 0);</span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image [16].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-family: verdana; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: verdana; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr; font-size: 16pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">3.</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">若将</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">anchorPoint</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">改为</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">(1, 1)</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">，</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">myLayer</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">的右下角会在</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">(100, 100)</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">位置</span></div><div style="direction: ltr; font-family: 'Courier New'; font-size: 9pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: &quot;Courier New&quot;; font-size: 9.0pt; color: #333333;">1 myLayer.anchorPoint = CGPointMake(1, 1);</span></div><div style="direction: ltr; font-family: verdana; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: verdana; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image [17].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-family: verdana; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: verdana; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr; font-size: 16pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">4.</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">将</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">anchorPoint</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">改为</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">(0, 1)</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">，</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">myLayer</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">的左下角会在</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">(100, 100)</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">位置</span></div><div style="direction: ltr; font-family: 'Courier New'; font-size: 9pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: &quot;Courier New&quot;; font-size: 9.0pt; color: #333333;">1 myLayer.anchorPoint = CGPointMake(0, 1);</span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image [18].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-size: 10.5pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">我想，你应该已经明白</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">anchorPoint</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">的用途了吧，它</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: red;">决定着</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: red;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: red;">身上的哪个点会在</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: red;">position</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: red;">所指定的位置上</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">。它的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">x</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">、</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">y</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">取值范围都是</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">0~1</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">，默认值为</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">(0.5, 0.5)</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">，因此，默认情况下，</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">的中点会在</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">position</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">所指定的位置上。当</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">anchorPoint</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">为其他值时，以此类推。</span></div><div style="direction: ltr; font-family: SimSun; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: SimSun; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><a href="http://www.cnblogs.com/mjios/archive/2013/04/14/3020975.html" style="direction: ltr; border-width: 100%; font-weight: bold; font-family: verdana; font-size: 10.5pt;">CALayer4-</a><a href="http://www.cnblogs.com/mjios/archive/2013/04/14/3020975.html" style="direction: ltr; border-width: 100%; font-weight: bold; font-family: SimSun; font-size: 10.5pt;">自定义层</a></div><div style="direction: ltr; font-family: SimSun; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: SimSun; font-size: 10.5pt; color: #333333; font-weight: bold;">本文目录</span></div><ul style="direction: ltr; border-width: 100%; unicode-bidi: embed;" type="disc"><li style="color: #399AB2;"><span style="font-family: SimSun; font-size: 10.5pt;">一、自定义层的方法</span><span style="font-family: verdana; font-size: 10.5pt;">1</span></li><li style="color: #399AB2;"><span style="font-family: SimSun; font-size: 10.5pt;">二、自定义层的方法</span><span style="font-family: verdana; font-size: 10.5pt;">2</span></li><li style="color: #399AB2;"><span style="font-family: verdana; font-size: 10.5pt;"> </span><span style="font-family: SimSun; font-size: 10.5pt;">三、其他</span></li></ul><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">自定义层，其实就是在层上绘图，一共有</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">2</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">种方法，下面详细介绍一下。</span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; text-align: right;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: SimSun; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-size: 13.5pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: SimSun; background: #5DB4DC;">一、自定义层的方法</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #5DB4DC;">1</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">方法描述：创建一个</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">的子类，然后覆盖</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">drawInContext:</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">方法，使用</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">Quartz2D API</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">进行绘图</span></div><div style="direction: ltr; font-size: 16pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">1.</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">创建一个</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">的子类</span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image [19].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-family: verdana; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: verdana; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr; font-size: 16pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">2.</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">在</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">.m</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">文件中覆盖</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">drawInContext:</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">方法，在里面绘图</span></div><div style="direction: ltr; font-family: Calibri; font-size: 11pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: Calibri; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-size: 9pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">1 @implementation MJLayer</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">2</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">3 #pragma mark</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">绘制一个实心三角形</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">4 - (void)drawInContext:(CGContextRef)ctx {</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">5</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;"> //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">设置为蓝色</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">6</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;"> CGContextSetRGBFillColor(ctx, 0, 0, 1, 1);</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">7</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">8</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">9</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;"> //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">设置起点</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">10</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;"> CGContextMoveToPoint(ctx, 50, 0);</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">11</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;"> //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">从</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">(50, 0)</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">连线到</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">(0, 100)</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">12</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;"> CGContextAddLineToPoint(ctx, 0, 100);</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">13</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;"> //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">从</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">(0, 100)</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">连线到</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">(100, 100)</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">14</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;"> CGContextAddLineToPoint(ctx, 100, 100);</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">15</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;"> //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">合并路径，连接起点和终点</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">16</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;"> CGContextClosePath(ctx);</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">17</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">18</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;"> //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">绘制路径</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">19</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;"> CGContextFillPath(ctx);</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">20 }</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">21</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">22 @end</span></div><div style="direction: ltr; font-family: Calibri; font-size: 11pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: Calibri; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-family: verdana; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: verdana; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr; font-size: 16pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">3.</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">在控制器中添加图层到屏幕上</span></div><div style="direction: ltr; font-family: Calibri; font-size: 11pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: Calibri; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-size: 9pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">1 MJLayer *layer = [MJLayer layer];</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">2 //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">设置层的宽高</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">3 layer.bounds = CGRectMake(0, 0, 100, 100);</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">4 //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">设置层的位置</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">5 layer.position = CGPointMake(100, 100);</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">6 //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">开始绘制图层</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">7 [layer setNeedsDisplay];</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">8 [self.view.layer addSublayer:layer];</span></div><div style="direction: ltr; font-family: Calibri; font-size: 11pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: Calibri; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">注意第</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">7</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">行，需要调用</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">setNeedsDisplay</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">这个方法，才会触发</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">drawInContext:</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">方法的调用，然后进行绘图</span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image [20].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-family: verdana; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: verdana; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; text-align: right;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: SimSun; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-size: 13.5pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: SimSun; background: #5DB4DC;">二、自定义层的方法</span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #5DB4DC;">2</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">方法描述：设置</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">delegate</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">，然后让</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">delegate</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">实现</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">drawLayer:inContext:</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">方法，当</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">需要绘图时，会调用</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">delegate</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">drawLayer:inContext:</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">方法进行绘图。</span></div><div style="direction: ltr; font-size: 10.5pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">这里要注意的是：</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: red;">不能再将某个</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: red;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: red;">设置为</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: red;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: red;">的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: red;">delegate</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: red;">，因为</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: red;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: red;">对象已经是它内部根层的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: red;">delegate</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: red;">，再次设置为其他层的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: red;">delegate</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: red;">就会出问题</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">。</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">和它内部</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">的默认关系图：</span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image [21].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-size: 16pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">1.</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">创建新的层，设置</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">delegate</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">，然后添加到控制器的</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">view</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">的</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">layer</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">中</span></div><div style="direction: ltr; font-family: Calibri; font-size: 11pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: Calibri; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-size: 9pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">1 CALayer *layer = [CALayer layer];</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">2 //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">设置</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">delegate</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">3 layer.delegate = self;</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">4 //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">设置层的宽高</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">5 layer.bounds = CGRectMake(0, 0, 100, 100);</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">6 //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">设置层的位置</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">7 layer.position = CGPointMake(100, 100);</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">8 //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">开始绘制图层</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">9 [layer setNeedsDisplay];</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">10 [self.view.layer addSublayer:layer];</span></div><div style="direction: ltr; font-family: Calibri; font-size: 11pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: Calibri; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">在第</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">3</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">行设置了</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">delegate</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">，这里的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">self</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">是指控制器</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">* </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">注意第</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">9</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">行，需要调用</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">setNeedsDisplay</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">这个方法，才会通知</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">delegate</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">进行绘图</span></div><div style="direction: ltr; font-family: verdana; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: verdana; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr; font-size: 16pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">2.</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">让</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">的</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">delegate(</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">前面设置的是控制器</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">)</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">实现</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">drawLayer:inContext:</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">方法</span></div><div style="direction: ltr; font-family: Calibri; font-size: 11pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: Calibri; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-size: 9pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">1 #pragma mark</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">画一个矩形框</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">2 - (void)drawLayer:(CALayer *)layer inContext:(CGContextRef)ctx {</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">3</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;"> //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">设置蓝色</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">4</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;"> CGContextSetRGBStrokeColor(ctx, 0, 0, 1, 1);</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">5</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;"> //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">设置边框宽度</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">6</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;"> CGContextSetLineWidth(ctx, 10);</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">7</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">8</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;"> //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">添加一个跟层一样大的矩形到路径中</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">9</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;"> CGContextAddRect(ctx, layer.bounds);</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">10</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">11</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;"> //</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: SimSun;">绘制路径</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">12</span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;; mso-spacerun: yes;">    </span><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;"> CGContextStrokePath(ctx);</span><br/><span style="direction: ltr; border-width: 100%; font-size: 9.0pt; color: #333333; font-family: &quot;Courier New&quot;;">13 }</span></div><div style="direction: ltr; font-family: Calibri; font-size: 11pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: Calibri; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-family: Calibri; font-size: 11pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: Calibri; font-size: 11.0pt;"> </span></div><div style="direction: ltr;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><img src="iOS笔记① ：基础 (三十一)  CALayer-2_files/Image [22].png" type="image/png" data-filename="Image.png"/><br/></div><div style="direction: ltr; font-family: verdana; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: verdana; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr; font-family: SimSun; font-size: 11pt; text-align: right;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: SimSun; font-size: 11.0pt;"> </span></div><div style="direction: ltr; font-size: 13.5pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #5DB4DC;"> </span><span style="direction: ltr; border-width: 100%; font-size: 13.5pt; color: black; font-weight: bold; font-family: SimSun; background: #5DB4DC;">三、其他</span></div><div style="direction: ltr; font-size: 16pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">1.</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">总结</span></div><div style="direction: ltr; font-size: 10.5pt;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">无论采取哪种方法来自定义层，都必须调用</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: #333333;">CALayer</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: &quot;courier new&quot;; color: red;">setNeedsDisplay</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; font-family: SimSun; color: #333333;">方法才能正常绘图。</span></div><div style="direction: ltr; font-family: verdana; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-family: verdana; font-size: 10.5pt; color: #333333;"> </span></div><div style="direction: ltr; font-size: 16pt; color: black;-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: &quot;courier new&quot;; background: #2FD1CB;">2.UIView</span><span style="direction: ltr; border-width: 100%; font-size: 16.0pt; color: black; font-weight: bold; font-family: SimSun; background: #2FD1CB;">的详细显示过程</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">当</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">需要显示时，它内部的层会准备好一个</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CGContextRef(</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">图形上下文</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">)</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">，然后调用</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">delegate(</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">这里就是</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIView)</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">drawLayer:inContext:</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">方法，并且传入已经准备好的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CGContextRef</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">对象。而</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIView</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">在</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">drawLayer:inContext:</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">方法中又会调用自己的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">drawRect:</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">方法</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">*</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333;"> </span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">平时在</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">drawRect:</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">中通过</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">UIGraphicsGetCurrentContext()</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">获取的就是由层传入的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CGContextRef</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">对象，在</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">drawRect:</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">中完成的所有绘图都会填入层的</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: &quot;courier new&quot;;">CGContextRef</span><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;">中，然后被拷贝至屏幕</span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51);-en-paragraph:true;margin-top:1em;margin-bottom:1em;"><span style="direction: ltr; border-width: 100%; font-size: 10.5pt; color: #333333; font-family: SimSun;"><br/></span></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold; direction: ltr; font-family: SimSun; margin-top: 1em; margin-bottom: 1em; font-size: 10.5pt; -en-paragraph: true;">笔记整理：Edison</span></div><div><span style="font-weight: bold; direction: ltr; font-family: SimSun; margin-top: 1em; margin-bottom: 1em; font-size: 10.5pt; -en-paragraph: true;">联系方式：QQ：277593 （笔记意见建议可加此Q，专人更新此笔记）；</span></div><div><br style="direction: ltr; font-family: SimSun; margin-top: 1em; margin-bottom: 1em; font-size: 10.5pt; -en-paragraph: true;"/></div><div style="direction: ltr; font-size: 10.5pt; color: rgb(51, 51, 51); -en-paragraph: true; margin-top: 1em; margin-bottom: 1em;"><span style="direction: ltr; font-family: SimSun; color: rgb(79, 129, 189); margin-top: 1em; margin-bottom: 1em; font-size: 10.5pt; font-weight: bold; -en-paragraph: true;">注：小道途径获取到的笔记，无法自动更新，请谅解！</span></div><div><br/></div></span>
</div></body></html> 